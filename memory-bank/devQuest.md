# Dev Log Quest: Протокол "Bounty Hunt"

> **Статус:** Активен (Мета-игра для разработчиков)
> **Цель:** Найти 9 скрытых аномалий в коде.

## 1. Концепция
Внутри приложения спрятана "Консоль Разработчика" (активируется кликом по иконке терминала). Это мета-игра, стилизованная под ретро-терминал / BIOS.

**Сюжет:** Геймдизайнер "взламывает" систему, находя баги, которые на самом деле являются фичами (пасхалками).
**Мотивация:** Стартовый баланс **$200**. Каждая подсказка стоит виртуальных денег. Итоговый "счет" — это показатель мастерства исследователя (ну или просто фана).

## 2. Экономика
*   **Стартовый баланс:** $200.00
*   **Стоимость подсказок:**
    *   **Level 1 ($5):** Философский намек (VIBE).
    *   **Level 2 ($10):** Описание механики (LOGIC).
    *   **Level 3 ($25):** Прямая инструкция (MANUAL). Штрафной уровень с едким комментарием AI.

## 3. Реестр Аномалий (Anomalies)
*Источник данных: `src/data/devQuest.ts`*

| ID                    | Триггер (Как найти)                                             | Эффект                                                |
| :-------------------: | :-------------------------------------------------------------: | :---------------------------------------------------: |
| **#IDLE_STATE**       | Не трогать мышь и клавиатуру ровно **60 секунд**.               | Активируется скринсейвер (если включен в настройках). |
| **#CHALK_TRACE**      | Зажать ЛКМ и водить по экрану (Drag on background).             | Рисуется меловой след.                                |
| **#DEAD_PIXEL**       | Сделать **5 быстрых кликов** по иконке Черепа (карта смерти).   | (TBD) Визуальный глитч.                               |
| **#GREED_TRAP**       | Навести курсор на кнопку "Создать игру" и держать **5 секунд**. | Появляется сундук с добычей.                          |
| **#ENTROPY_OVERLOAD** | Кликнуть **15 раз** подряд в пустое место экрана.               | Эффект "битых пикселей" / краш.                       |
| **#MAGIC_WORD_1**     | Набрать на клавиатуре `lumos`. (Выкл: `nox`).                   | Включается эффект фонарика (Flashlight Overlay).      |
| **#BIO_INPUT**        | Набрать на клавиатуре `mouse`. (Выкл: `cat`).                   | Эффект слизи/биомассы (Slime Overlay).                |
| **#MATRIX_BREAK**     | `Alt + Click` по экрану. (Починить: `Ctrl + Click`).            | Экран покрывается трещинами.                          |

## 4. Техническая Реализация

### Хранилище (`useDevQuestStore.ts`)
Использует `zustand` + `persist` (localStorage) для сохранения прогресса между сессиями.
*   `isQuestActive`: Флаг, запущен ли квест. Если `false`, аномалии срабатывают визуально, но не засчитываются.
*   `anomalies`: Объект состояния каждой аномалии (`isFound`, `hintsBought`).
*   `logs`: Журнал событий консоли.

### Глобальные Слушатели (`App.tsx`)
В корневом компоненте `App.tsx` висит `useEffect`, который слушает:
1.  `keydown`: Накапливает буфер последних 10 нажатий для проверки чит-кодов (`lumos`, `mouse`).
2.  `click`: Считает быстрые клики для `#ENTROPY_OVERLOAD`.
3.  `mousemove`/`idle`: Запускает таймер бездействия для `#IDLE_STATE`.

### Визуальные Эффекты
Реализованы через отдельные Overlay-компоненты, которые рендерятся поверх всего интерфейса (через `createPortal` или просто absolute positioning в `App.tsx`):
*   `FlashlightOverlay`
*   `SlimeOverlay`
*   `GhostTrailOverlay` (для мела)

## 5. Чит-коды управления
*   `sbros`: Полный сброс прогресса квеста (Reset Quest).

