# Task: Memory Bank ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ø–æ–ø—ã—Ç–∫–∞, –∑–∞—Ç–µ–º –æ—Ç–∫–∞—Ç)

## –°—Ç–∞—Ç—É—Å
- [x] Planning
- [x] Implementation
- [x] Verification
- [x] Documentation
- [x] Reflection

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 2 (Tooling/Docs)
–ó–∞–¥–∞—á–∞ –ø—Ä–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: –ø–æ–ø—ã—Ç–∫–∞ —Ä–∞–∑–Ω–µ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –ø–∞–ø–∫–∞–º –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –∑–∞—Ç–µ–º –æ—Ç–∫–∞—Ç –ø–æ—Å–ª–µ –æ—Ü–µ–Ω–∫–∏ UX.

## –ò—Ç–æ–≥
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–∞–ø–∫–∞–º **–Ω–µ –ø—Ä–∏–Ω—è—Ç–∞** (–æ–∫–∞–∑–∞–ª–∞—Å—å –Ω–µ—É–¥–æ–±–Ω–æ–π/—à—É–º–Ω–æ–π).
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `memory-bank/` –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∞ **–∫–∞–∫ –±—ã–ª–æ**.

## Reflection
- `memory-bank/reflection/reflection-memory-bank-grouping-rollback-v1.md`

---

# Task: Traveling Merchant (–°—Ç—Ä–∞–Ω—Å—Ç–≤—É—é—â–∏–π —Ç–æ—Ä–≥–æ–≤–µ—Ü)

## –°—Ç–∞—Ç—É—Å
- [x] Planning (–¢–ó —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)
- [x] Implementation (–ü–∞—Ä—Ç–∏–∏ 1‚Äì3 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã)
- [x] Verification
- [~] Documentation (mechanics –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–∞—Ä—Ç–∏—è–º–∏)
- [x] Reflection

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 4 (Advanced / Gameplay + UI + Domain)
–ú–µ—Ö–∞–Ω–∏–∫–∞ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç **–∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª —Ä–∞—É–Ω–¥–æ–≤ (deal/round advance)**, –¥–æ–±–∞–≤–ª—è–µ—Ç **–Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ/—Ä–µ–∂–∏–º** –≤–Ω—É—Ç—Ä–∏ –∑–∞–±–µ–≥–∞, –≤–≤–æ–¥–∏—Ç **–Ω–æ–≤—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã/–ø—Ä–∞–≤–∏–ª–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏**, –∏ —Ç—Ä–µ–±—É–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è UX –ø–æ DnD.

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (—á–µ—Ä–Ω–æ–≤–∏–∫)
- `memory-bank/travelingMerchant.md`

## Reflection
- `memory-bank/reflection/reflection-traveling-merchant-v1.md`

## –ö–ª—é—á–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–≤—Ö–æ–¥–Ω—ã–µ)
- **–®–∞–Ω—Å –Ω–∞ –∑–∞–±–µ–≥:** 40% (–ø—Ä–∏–º–µ—Ä–Ω–æ –∫–∞–∂–¥—ã–π 2‚Äì3 –∑–∞–±–µ–≥).
- **–†–∞—É–Ω–¥ –ø–æ—è–≤–ª–µ–Ω–∏—è:** —Å–ª—É—á–∞–π–Ω—ã–π (–º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç 2-–≥–æ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ/–ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ).
- **UX:** —Ç–æ—Ä–≥–æ–≤–µ—Ü –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç 3 –ø—Ä–µ–¥–º–µ—Ç–∞ + ‚Äú–£–π—Ç–∏‚Äù (–∑–∞–Ω–∏–º–∞–µ—Ç 4-–π —Å–ª–æ—Ç). –ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏/—É—Ö–æ–¥–∞ –∏–≥—Ä–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –æ–±—ã—á–Ω–æ–º—É –¥–æ–±–æ—Ä—É, –ø—Ä–∏ —ç—Ç–æ–º ‚Äú–ø–æ—Å–ª–µ–¥–Ω—è—è –∫–∞—Ä—Ç–∞ –ø—Ä–æ—à–ª–æ–≥–æ —Å—Ç–æ–ª–∞‚Äù –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è.
- **–¶–µ–Ω–∞:** –∫–∞–∂–¥—ã–π –ø—Ä–µ–¥–º–µ—Ç 15 üíé, —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ üíé, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –≤ —Ç–µ–∫—É—â–µ–º –∑–∞–±–µ–≥–µ.
- **–ü–æ–∫—É–ø–∫–∞:** –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å —Ç–æ–ª—å–∫–æ 1 –ø—Ä–µ–¥–º–µ—Ç, –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å.
- **–£–π—Ç–∏:** –µ—Å–ª–∏ –Ω–µ –ø–æ–∫—É–ø–∞–µ–º / –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Å—Ä–µ–¥—Å—Ç–≤ ‚Äî –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å ‚Äú–£–π—Ç–∏‚Äù –≤ —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–ª–æ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –∏–ª–∏ –Ω–∞ –≥–µ—Ä–æ—è.

## –ü–ª–∞–Ω (—á—Ç–æ –¥–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–º)
### –ü–∞—Ä—Ç–∏–∏ (–º–∞–ª–µ–Ω—å–∫–∏–º–∏ –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã–º–∏ —à–∞–≥–∞–º–∏)
**–ü–∞—Ä—Ç–∏—è 1 (—Å–¥–µ–ª–∞–Ω–æ):**
- Domain:
  - –¥–æ–±–∞–≤–ª–µ–Ω `GameState.merchant` (Variant B: overlay),
  - –Ω–∞ —Å—Ç–∞—Ä—Ç–µ –∑–∞–±–µ–≥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ç–æ—Ä–≥–æ–≤–µ—Ü: 40% —à–∞–Ω—Å + `scheduledRound`,
  - –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ —Ä–∞—É–Ω–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è overlay —Ç–æ—Ä–≥–æ–≤—Ü–∞ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∞ —Å—Ç–æ–ª–µ –±—ã–ª–∞ —Ä–æ–≤–Ω–æ 1 –∫–∞—Ä—Ç–∞),
  - `MERCHANT_LEAVE` –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤—Ü–∞ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—ã—á–Ω—ã–π –¥–æ–±–æ—Ä 3 –∫–∞—Ä—Ç –∏–∑ –¥–µ–∫–∏.
- UI:
  - overlay —Ç–æ–∫–µ–Ω—ã —Ä–∏—Å—É—é—Ç—Å—è –ø–æ–≤–µ—Ä—Ö —Å–ª–æ—Ç–æ–≤ –ø–æ–ª—è,
  - ‚Äúüö™ –£–π—Ç–∏‚Äù –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –Ω–∞ –≥–µ—Ä–æ—è –∏–ª–∏ –≤ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
  - –≤–æ –≤—Ä–µ–º—è —Ç–æ—Ä–≥–æ–≤—Ü–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –±–æ–π/–∫–∞—Å—Ç—ã/—Å–±—Ä–æ—Å/–≤–∑—è—Ç–∏–µ –∫–∞—Ä—Ç,
  - —Ä–∞–∑—Ä–µ—à–µ–Ω–æ ‚Äú—É–π—Ç–∏‚Äù,
  - —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ —Ä–æ–≤–Ω–æ 1 –ø—Ä–æ–¥–∞–∂–∞ –∏–∑ —Ä—é–∫–∑–∞–∫–∞ (—Å—Ç—Ä–æ–≥–æ –∏–∑ `backpack`).

**–ü–∞—Ä—Ç–∏—è 2 (—Å–ª–µ–¥—É—é—â–∞—è, –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è):**
**–ü–∞—Ä—Ç–∏—è 2 (—Å–¥–µ–ª–∞–Ω–æ):**
- –ü–æ–∫—É–ø–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –∑–∞ **15üíé** (DnD —Ç–æ–≤–∞—Ä–∞ –≤ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç).
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–∫—É–ø–∫–∏ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ üíé (–∑–∞–ø—Ä–µ—Ç drag + –±–µ–π–¥–∂ —Ü–µ–Ω—ã).
- –ü–µ—Ä–µ–Ω–æ—Å –ø—Ä–∞–≤–∏–ª–∞ ‚Äú—Å—Ç—Ä–æ–≥–æ 1 –ø—Ä–æ–¥–∞–∂–∞ –∏–∑ —Ä—é–∫–∑–∞–∫–∞ –≤–æ –≤—Ä–µ–º—è —Ç–æ—Ä–≥–æ–≤—Ü–∞‚Äù –Ω–∞ UI-–≤–∞–ª–∏–¥–∞—Ü–∏—é (–ø–ª—é—Å –¥–æ–º–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞).

**–ü–∞—Ä—Ç–∏—è 3 (—Å–ª–µ–¥—É—é—â–∞—è, –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è):**
- –†–µ–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤:
  - ü¶Å (drop –Ω–∞ –≥–µ—Ä–æ—è): -4 HP (–∏–≥–Ω–æ—Ä –≤ God Mode), +2 maxHp, –∏—Å—á–µ–∑–∞–µ—Ç; –ø—Ä–æ–¥–∞–∂–∞ = 0.
  - üó°Ô∏è: weapon —Å –ø—Ä–æ—á–Ω–æ—Å—Ç—å—é (–æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Ä—É–∫–µ; —Ç—Ä–∞—Ç–∏—Ç –ø—Ä–æ—á–Ω–æ—Å—Ç—å –ø–æ HP –º–æ–Ω—Å—Ç—Ä–∞ –¥–æ —É–¥–∞—Ä–∞; –ø—Ä–æ–¥–∞–∂–∏ –ø–æ —Ç–µ–∫—É—â–µ–π –ø—Ä–æ—á–Ω–æ—Å—Ç–∏).
  - üìú: ‚Äú–ú–æ–ª–∏—Ç–≤–∞‚Äù (drop –Ω–∞ spell –≤ —Ä—É–∫–µ ‚Üí –∫–æ–ø–∏—è `spellType` –≤ —Ä—é–∫–∑–∞–∫; –µ—Å–ª–∏ —Ä—é–∫–∑–∞–∫ –∑–∞–Ω—è—Ç/web ‚Äî –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç).

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—á–µ–∫–ª–∏—Å—Ç)
- `memory-bank/gameMechanics.md` ‚Äî –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø—Ä–∞–≤–∫–µ `gameReducer.ts` (–≤ —Ç.—á. –ø–∞—Ä—Ç–∏–∏ 1‚Äì3).
- `memory-bank/gameContent.md` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å, –∫–æ–≥–¥–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å—Ç–∞–Ω—É—Ç ‚Äú–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º‚Äù (–ø—É–ª/—Ä–∞–Ω–¥–æ–º —Ç–æ–≤–∞—Ä–æ–≤).

---

# Task: Traveling Merchant ‚Äî –í–∏–∑—É–∞–ª—å–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ (–±–∞–Ω–Ω–µ—Ä + –æ–ø–∏—Å–∞–Ω–∏—è + ‚Äú–∑–æ–ª–æ—Ç–æ‚Äù)

## –°—Ç–∞—Ç—É—Å
- [x] Planning
- [x] Implementation
- [x] Verification
- [x] Documentation
- [x] Reflection

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 3 (Intermediate / UI + UX + Styling)
–ó–∞–¥–∞—á–∞ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç **UI‚Äë—Å–ª–æ–∏**, **–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤**, **–æ–≤–µ—Ä–ª–µ–∏ —Å—Ü–µ–Ω—ã** –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å DnD/—Ç–∞—á/–æ–≤–µ—Ä–ª–µ—è–º–∏ (‚Äú–¢—å–º–∞‚Äù, –ø–∞—É–∑–∞, –º–æ–¥–∞–ª–∫–∏).

## –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (–¢–ó)
- `memory-bank/travelingMerchantVisual.md`
## Reflection
- `memory-bank/reflection/reflection-traveling-merchant-visual-v1.md`

## –ü–ª–∞–Ω (—á–µ—Ä–Ω–æ–≤–∏–∫)
- –î–æ–±–∞–≤–∏—Ç—å –±–∞–Ω–Ω–µ—Ä ‚Äú–°—Ç—Ä–∞–Ω—Å—Ç–≤—É—é—â–∏–π —Ç–æ—Ä–≥–æ–≤–µ—Ü‚Äù –Ω–∞–¥ –ø–æ–ª–µ–º (–≤–∏–¥–µ–Ω –≤—Å—ë –≤—Ä–µ–º—è, –ø–æ–∫–∞ –º–∞–≥–∞–∑–∏–Ω –∞–∫—Ç–∏–≤–µ–Ω).
- –°–¥–µ–ª–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–ø–∏—Å–∞–Ω–∏—è ‚Äú–∫–∞–∫ —É –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π‚Äù.
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤: –∂—ë–ª—Ç–∞—è/–∑–æ–ª–æ—Ç–∞—è –æ–±–≤–æ–¥–∫–∞ + –ª—ë–≥–∫–∏–π shimmer (—Å `prefers-reduced-motion`).
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ª–æ–∏/z-index –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å DnD –∏ —Ç–∞—á‚Äë—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.

---

# Task: Traveling Merchant ‚Äî Hotfix: –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã —Ç–æ—Ä–≥–æ–≤—Ü–∞

## –°—Ç–∞—Ç—É—Å
- [x] Implementation
- [x] Verification
- [x] Documentation
- [x] Reflection

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 1 (Bugfix / UI Styling)
–ù–µ–±–æ–ª—å—à–æ–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ñ–∏–∫—Å: —Ç–æ–∫–µ–Ω—ã —Ç–æ—Ä–≥–æ–≤—Ü–∞ –Ω–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Å–≤–µ—á–∏–≤–∞—Ç—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–æ–¥ –Ω–∏–º–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ ‚Äú–ø–æ—Å–ª–µ–¥–Ω—è—è –∫–∞—Ä—Ç–∞ —Ä–∞—É–Ω–¥–∞‚Äù –ø–æ–¥ üö™).

## –ß—Ç–æ –ø–æ–º–µ–Ω—è–ª–∏
- UI: `src/components/CardComponent.tsx`
  - —Ñ–æ–Ω—ã merchant‚Äë—Ç–æ–∫–µ–Ω–æ–≤ —Å–¥–µ–ª–∞–Ω—ã –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏,
  - merchant‚Äë—Ç–æ–∫–µ–Ω—ã –±–æ–ª—å—à–µ –Ω–µ —Å–Ω–∏–∂–∞—é—Ç `opacity` –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `isBlocked` (disabled –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ `grayscale`).
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
  - `memory-bank/travelingMerchantVisual.md` (–¥–æ–±–∞–≤–ª–µ–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ ‚Äú–ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ‚Äù),
  - `memory-bank/travelingMerchant.md` (—É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø—Ä–æ –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ).

## Reflection
- `memory-bank/reflection/reflection-traveling-merchant-opaque-tokens-v1.md`

# Task: ¬´–ü—Ä–æ–∫–ª—è—Ç—å—è¬ª (Curse System)

## –°—Ç–∞—Ç—É—Å
- [x] Planning
- [x] Implementation
- [x] Verification
- [x] Documentation

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 3 (Intermediate)
–ú–µ—Ö–∞–Ω–∏–∫–∞ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç **UI**, **Reducer/GameState**, **Deckbuilder**, –∏ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∫–∞—Ä—Ç–∞–º–∏ –Ω–∞ —Å—Ç–æ–ª–µ.

## –ö–æ–Ω—Ç–µ–∫—Å—Ç / –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–¥–∞ (–≤–∞–∂–Ω–æ)
–í –ø—Ä–æ–µ–∫—Ç–µ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã ¬´–ü—Ä–æ–∫–ª—è—Ç–∏–π¬ª:
- **–¢–∏–ø—ã/State**: `CurseType`, `GameState.curse`, `DeckConfig.curse`, `Card.isHidden`.
- **–î–∞–Ω–Ω—ã–µ**: `src/data/curses.ts` (‚òÅÔ∏è –¢—É–º–∞–Ω, üåï –ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ).
- **–õ–æ–≥–∏–∫–∞**:
  - –¢—É–º–∞–Ω: —Å–∫—Ä—ã–≤–∞–µ—Ç 2 —Å–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ä—Ç—ã –Ω–∞ —Ä–∞–∑–¥–∞—á–µ –∏ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ –Ω–∞ —Å—Ç–æ–ª–µ ‚â§2 –∫–∞—Ä—Ç.
  - –ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ: –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏ –º–æ–Ω—Å—Ç—Ä–∞ –ª–µ—á–∏—Ç –¥—Ä—É–≥–∏—Ö –º–æ–Ω—Å—Ç—Ä–æ–≤ –Ω–∞ +1 HP (–Ω–µ –≤—ã—à–µ maxHP).
- **UI**:
  - –ï—Å—Ç—å `CursePicker` –∏ —Å–ª–æ—Ç –ø—Ä–æ–∫–ª—è—Ç–∏—è –≤ `GameScreen`, –Ω–æ —Å–µ–π—á–∞—Å –æ–Ω —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏.

–ó–∞–¥–∞—á–∞ ‚Äî **–¥–æ–≤–µ—Å—Ç–∏ UX –¥–æ –Ω—É–∂–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è** (—Å–ª–æ—Ç —É –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –±–ª–æ–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π —Å–æ —Å–∫—Ä—ã—Ç—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ä—É–±–∞—à–∫–∞, –±–∞–Ω–Ω–µ—Ä-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, —Å–µ–∫—Ü–∏—è –≤ –¥–µ–∫–±–∏–ª–¥–µ—Ä–µ).

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (–ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é)

### 1) –†–∞–∑–º–µ—â–µ–Ω–∏–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–ª–æ—Ç–∞ –ø—Ä–æ–∫–ª—è—Ç–∏—è
- **–°–ª–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä—è–¥–æ–º —Å –∏–≥—Ä–æ–≤—ã–º –ø–æ–ª–µ–º** (—Ä—è–¥–æ–º —Å —Å–µ—Ç–∫–æ–π/—Å–ª–æ—Ç–∞–º–∏, –∞ –Ω–µ –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏).
- –í –Ω–∞—á–∞–ª–µ –∏–≥—Ä—ã –º–æ–∂–Ω–æ **—Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –±–µ–∑ –ø—Ä–æ–∫–ª—è—Ç–∏—è**.
- –ü–æ–∫–∞ –∏–≥—Ä–æ–∫ **–Ω–µ —Å–¥–µ–ª–∞–ª –¥–µ–π—Å—Ç–≤–∏–π**, –ø—Ä–æ–∫–ª—è—Ç–∏–µ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–æ–∑–∂–µ.
- –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∫–ª—è—Ç–∏—è –æ–Ω–æ **–Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å**.
- –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω—É–∂–µ–Ω **—à–∞–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** (‚Äú–í—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–∫–ª—è—Ç–∏–µ ‚Ä¶ ? –î–∞/–ù–µ—Ç‚Äù).

### 2) –í–∏–∑—É–∞–ª —Ç–æ–∫–µ–Ω–∞ –ø—Ä–æ–∫–ª—è—Ç–∏—è
- –ü—Ä–æ–∫–ª—è—Ç–∏–µ –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–∞–∫ **–º–æ–Ω–µ—Ç–∞/—Ç–æ–∫–µ–Ω** (–∫—Ä—É–≥–ª–∞—è —Ñ–∏—à–∫–∞ –≤ —Å—Ç–∏–ª–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö ‚Äú–º–æ–Ω–µ—Ç‚Äù).
- –î–æ–ø. –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ HUD/Stats **–ø–æ–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è**.

### 3) –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- **–í –ª–æ–≥ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**.
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ ‚Äî **–∫—Ä—É–ø–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ/–±–∞–Ω–Ω–µ—Ä –Ω–∞–¥ –ø–æ–ª–µ–º** (–≤—ã—à–µ –∏ –∑–∞–º–µ—Ç–Ω–µ–µ, —á–µ–º floating text).
- –ë–∞–Ω–Ω–µ—Ä –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–ª—è—Ç—å—Å—è –∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ **–∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∑–∞–±–µ–≥–∞**, –µ—Å–ª–∏ –ø—Ä–æ–∫–ª—è—Ç–∏–µ —É–∂–µ –∑–∞–¥–∞–Ω–æ.

### 4) –ü—Ä–æ–∫–ª—è—Ç–∏–µ ¬´–¢—É–º–∞–Ω ‚òÅÔ∏è¬ª
- –†–∞–±–æ—Ç–∞–µ—Ç **–∫–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥**.
- –°–∫—Ä—ã–≤–∞–µ—Ç **2 —Å–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ä—Ç—ã** (–ª—é–±—ã—Ö —Ç–∏–ø–æ–≤).
- –°–∫—Ä—ã—Ç—ã–µ –∫–∞—Ä—Ç—ã:
  - **–Ω–µ–ª—å–∑—è —Ç—Ä–æ–≥–∞—Ç—å** (–Ω–µ–ª—å–∑—è –∫–ª–∏–∫–∞—Ç—å/–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å/–ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–∞ –Ω–∏—Ö –¥–µ–π—Å—Ç–≤–∏—è).
  - –∏–º–µ—é—Ç **—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Ä—É–±–∞—à–∫—É** (–±–µ–∑ –æ–±–ª–∞–∫–∞/–∏–∫–æ–Ω–∫–∏ –ø—Ä–æ–∫–ª—è—Ç–∏—è).

### 5) –ü—Ä–æ–∫–ª—è—Ç–∏–µ ¬´–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ üåï¬ª
- –ü—Ä–∏ —Å–º–µ—Ä—Ç–∏ –º–æ–Ω—Å—Ç—Ä–∞ –ª–µ—á–∞—Ç—Å—è **–≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–Ω—Å—Ç—Ä—ã** (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–µ HP).
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±–æ–π –ø—Ä–∏—á–∏–Ω—ã —Å–º–µ—Ä—Ç–∏ (–æ—Ä—É–∂–∏–µ/—Å–ø–µ–ª–ª/–ø—Ä–æ—á–µ–µ), –µ—Å–ª–∏ —Å–º–µ—Ä—Ç—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –æ–±—â–∏–π ‚Äúkill‚Äù –ø—É—Ç—å.

### 6) –î–µ–∫–±–∏–ª–¥–µ—Ä
- –í –¥–µ–∫–±–∏–ª–¥–µ—Ä–µ –Ω—É–∂–Ω–∞ **–æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è** –ø–æ–¥ –ø—Ä–æ–∫–ª—è—Ç–∏–µ (–≤ UX/–≤–µ—Ä—Å—Ç–∫–µ –æ—Ç–¥–µ–ª–∏—Ç—å –æ—Ç ‚Äú–ó–∞–∫–ª–∏–Ω–∞–Ω–∏–π‚Äù –∏ –±–∞–∑–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π).
- ‚ö†Ô∏è –ù—É–∂–Ω–∞ –º–∏–Ω–∏-—É—Ç–æ—á–Ω—è–ª–∫–∞: —Ñ—Ä–∞–∑–∞ ‚Äú–∏ —Ç–∞–º –Ω–µ –ø—Ä–æ–∫–ª—è—Ç–∏ –≤—Ä–æ–¥–µ –∫–∞–∫ –∞ –∑–∞–∫–ª–∏–Ω–∞–µ–∏—è‚Äù –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–∞.
  - –ü–ª–∞–Ω –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç: **—Å–¥–µ–ª–∞—Ç—å —è–≤–Ω—ã–π –±–ª–æ–∫ ‚Äú–ü—Ä–æ–∫–ª—è—Ç–∏—è‚Äù**, –∞ ‚Äú–ó–∞–∫–ª–∏–Ω–∞–Ω–∏—è‚Äù –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π –∫–∞–∫ —Å–µ–π—á–∞—Å.
  - –ï—Å–ª–∏ —Ç—ã —Ö–æ—Ç–µ–ª –¥—Ä—É–≥–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è/–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π) ‚Äî —É—Ç–æ—á–Ω–∏–º –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.

---

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–¥–µ—Ç–∞–ª—å–Ω–æ)

### A) GameState / –ø—Ä–∞–≤–∏–ª–∞ ‚Äú–ø–æ–∫–∞ –Ω–µ —Å–¥–µ–ª–∞–ª –¥–µ–π—Å—Ç–≤–∏–π‚Äù
–¶–µ–ª—å: –≤–≤–µ—Å—Ç–∏ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ, –∫–æ–≥–¥–∞ ‚Äú–ø–ª—é—Å‚Äù –¥–æ—Å—Ç—É–ø–µ–Ω.
- **–î–æ–±–∞–≤–∏—Ç—å –≤ `GameState` —Ñ–ª–∞–≥** –≤—Ä–æ–¥–µ `hasActed: boolean` (–∏–ª–∏ `isRunLocked: boolean`) –∏ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –µ–≥–æ –Ω–∞ `false` –ø—Ä–∏ `START_GAME`.
- **–ü–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤ `true`** –ø—Ä–∏ –ª—é–±—ã—Ö ‚Äú–∏–≥—Ä–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö‚Äù:
  - `TAKE_CARD_TO_HAND`
  - `INTERACT_WITH_MONSTER`
  - `USE_SPELL_ON_TARGET`
  - `SELL_ITEM`
  - `RESET_HAND`
- **–ù–µ —Å—á–∏—Ç–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è–º–∏** —á–∏—Å—Ç–æ UI/—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:
  - `CHECK_ROUND_END`, `CLEAR_PEEK`, `CLEAR_SCOUT`, `TOGGLE_GOD_MODE`, `INIT_GAME`, `ACTIVATE_CURSE`
- UI-–ø—Ä–∞–≤–∏–ª–æ: –µ—Å–ª–∏ `state.curse === null` –∏ `state.hasActed === false`, —Å–ª–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç ‚Äú+‚Äù –∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤—ã–±–æ—Ä.

–§–∞–π–ª—ã:
- `src/features/game/domain/model/types.ts` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –ø–æ —Ç–∏–ø–∞–º; `src/types/game.ts` ‚Äî bridge)
- `src/features/game/domain/reducer/gameReducer.ts` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –ø–æ –º–µ—Ö–∞–Ω–∏–∫–µ; `src/utils/gameReducer.ts` ‚Äî bridge)

### B) –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∫–ª—è—Ç–∏—è
–¶–µ–ª—å: –≤—ã–±–æ—Ä –≤ –ø–∏–∫–µ—Ä–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
- –í `GameScreen`:
  - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≤ `CursePicker` —Å–æ—Ö—Ä–∞–Ω—è—Ç—å `pendingCurse` –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π state.
  - –ü–æ–∫–∞–∑–∞—Ç—å `ConfirmationModal` (‚Äú–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–æ–∫–ª—è—Ç–∏–µ ‚Ä¶ ?‚Äù).
  - –ù–∞ Confirm ‚Üí `dispatch({ type: 'ACTIVATE_CURSE', curse: pendingCurse })`.
  - –ù–∞ Cancel ‚Üí –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, `pendingCurse = null`.
- –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è `state.curse` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ-null ‚Üí —Å–ª–æ—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–∫–µ–Ω–æ–º –∏ –±–æ–ª—å—à–µ –Ω–µ –∫–ª–∏–∫–∞–µ—Ç—Å—è/–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.

–§–∞–π–ª—ã:
- `src/components/game/screens/GameScreen.tsx` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã; `src/components/GameScreen.tsx` ‚Äî proxy/bridge)
- `src/components/CursePicker.tsx` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ç–æ–ª—å–∫–æ UI-—Ç–µ–∫—Å—Ç/–ø–æ–¥—Å–∫–∞–∑–∫–∏)
- `src/components/ConfirmationModal.tsx` (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º)

### C) –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å —Å–ª–æ—Ç –ø—Ä–æ–∫–ª—è—Ç–∏—è –∫ –∏–≥—Ä–æ–≤–æ–º—É –ø–æ–ª—é (–∏ –æ—Ñ–æ—Ä–º–∏—Ç—å –∫–∞–∫ ‚Äú–º–æ–Ω–µ—Ç—É‚Äù)
–¶–µ–ª—å: —Å–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.
- –í—ã–¥–µ–ª–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä:
  - `src/components/CurseSlot.tsx` (–∏–ª–∏ `components/game/CurseSlot.tsx`, –µ—Å–ª–∏ –µ—Å—Ç—å —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞).
- –í–Ω—É—Ç—Ä–∏:
  - –°–æ—Å—Ç–æ—è–Ω–∏—è: –ø—É—Å—Ç–æ (‚Äú+‚Äù), –≤—ã–±—Ä–∞–Ω —Ç–æ–∫–µ–Ω, disabled.
  - –†–∞–∑–º–µ—Ä –∏ —Å—Ç–∏–ª—å ‚Äî –∫–∞–∫ —Ç–æ–∫–µ–Ω/–º–æ–Ω–µ—Ç–∞ (rounded-full, border, shadow), —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å —Å `uiDesign.md` (token-like circle).
- –í `GameScreen` —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ **–ª–µ–≤–æ–º –±–ª–æ–∫–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**, **—Å–ª–µ–≤–∞ –æ—Ç –∫–Ω–æ–ø–∫–∏ ‚Äú–°–±—Ä–æ—Å (-5HP)‚Äù** (–≤ –æ–¥–∏–Ω —Ä—è–¥).

–§–∞–π–ª—ã:
- `src/components/game/screens/GameScreen.tsx` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã; `src/components/GameScreen.tsx` ‚Äî proxy/bridge)
- `src/components/CurseSlot.tsx` (–Ω–æ–≤—ã–π)
- `memory-bank/uiDesign.md` (–æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å–ª–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)

### D) ¬´–¢—É–º–∞–Ω¬ª: –∑–∞–ø—Ä–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ —Å–∫—Ä—ã—Ç—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏ + —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ä—É–±–∞—à–∫–∞
–¶–µ–ª—å: hidden = ‚Äú–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å‚Äù.
- –ù–∞ —É—Ä–æ–≤–Ω–µ UI:
  - `CardComponent`: –µ—Å–ª–∏ `card.isHidden`:
    - `canDrag = false` (–¥–∞–∂–µ –µ—Å–ª–∏ `isDraggable` true)
    - `onClick` –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
    - value-badge/ability-badge –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
    - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å ‚Äú—Ä—É–±–∞—à–∫—É‚Äù (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω)
  - `EnemySlotDropZone` / handlers –≤ `GameScreen`:
    - `handleDropOnEnemy` –¥–æ–ª–∂–µ–Ω —Ä–∞–Ω–Ω–∏–º return, –µ—Å–ª–∏ target card hidden.
    - –ª—é–±—ã–µ ‚Äúattack/target‚Äù –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ `card.isHidden` –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è.
- ‚Äú–†—É–±–∞—à–∫–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è‚Äù:
  - –∑–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π ‚Äú‚òÅÔ∏è‚Äù –Ω–∞ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π —É–∑–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú‚ú¶/‚õß/—Ä—É–Ω—ã‚Äù —Å –Ω–∏–∑–∫–æ–π opacity) –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ø—Ä–æ–∫–ª—è—Ç–∏—é.

–§–∞–π–ª—ã:
- `src/components/CardComponent.tsx`
- `src/components/game/screens/GameScreen.tsx` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã; `src/components/GameScreen.tsx` ‚Äî proxy/bridge)
- (–≤–æ–∑–º–æ–∂–Ω–æ) `src/components/Slot.tsx` / dropzones, –µ—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞ –∫–ª–∏–∫–æ–≤
- `memory-bank/uiDesign.md` (–ø–æ—Å–ª–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)

### E) –ë–∞–Ω–Ω–µ—Ä –Ω–∞–¥ –ø–æ–ª–µ–º –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä–æ–∫–ª—è—Ç–∏—è
–¶–µ–ª—å: –∫—Ä—É–ø–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äú–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–æ–∫–ª—è—Ç–∏–µ ‚Ä¶‚Äù.
- –í–∞—Ä–∏–∞–Ω—Ç 1 (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π): –æ—Ç–¥–µ–ª—å–Ω—ã–π UI —Å–ª–æ–π `CurseActivationBanner` –≤ `GameScreen`.
  - –¢—Ä–∏–≥–≥–µ—Ä: `useEffect` –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ `state.curse` (null ‚Üí value).
  - –ü–æ–∫–∞–∑ 1.5‚Äì2.5 —Å–µ–∫—É–Ω–¥—ã, –∑–∞—Ç–µ–º fade-out (framer-motion).
  - –¢–µ–∫—Å—Ç: ‚Äú–ü—Ä–æ–∫–ª—è—Ç–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ: {name}‚Äù + –∏–∫–æ–Ω–∫–∞.
- –í–∞—Ä–∏–∞–Ω—Ç 2: —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `FloatingTextOverlay` (–Ω–æ –æ–Ω –≤–∏–∑—É–∞–ª—å–Ω–æ ‚Äú–º–∞–ª—ã–π‚Äù –ø–æ —Ç–≤–æ–µ–º—É –∑–∞–ø—Ä–æ—Å—É).

–§–∞–π–ª—ã:
- `src/components/game/screens/GameScreen.tsx` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã; `src/components/GameScreen.tsx` ‚Äî proxy/bridge)
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `src/components/CurseActivationBanner.tsx` (–Ω–æ–≤—ã–π)
- `memory-bank/uiDesign.md` (–ø–æ—Å–ª–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)

### F) –î–µ–∫–±–∏–ª–¥–µ—Ä: –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è –ø—Ä–æ–∫–ª—è—Ç–∏–π
–¶–µ–ª—å: –≤–∏–∑—É–∞–ª—å–Ω–æ –∏ —Å–º—ã—Å–ª–æ–≤–æ –æ—Ç–¥–µ–ª–∏—Ç—å ‚Äú–ü—Ä–æ–∫–ª—è—Ç–∏–µ‚Äù –æ—Ç ‚Äú–ó–∞–∫–ª–∏–Ω–∞–Ω–∏–π‚Äù –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
- –ü–µ—Ä–µ—Ä–∞–∑–º–µ—Ç–∏—Ç—å `DeckbuilderScreen`:
  - –°–µ–∫—Ü–∏—è 1: ‚Äú–ö–∞—Ä—Ç–∞/–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å‚Äù (—â–∏—Ç/–æ—Ä—É–∂–∏–µ/–∑–µ–ª—å—è/–∫—Ä–∏—Å—Ç–∞–ª–ª—ã/–∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è/–º–æ–Ω—Å—Ç—Ä—ã).
  - –°–µ–∫—Ü–∏—è 2: ‚Äú–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–±–µ–≥–∞‚Äù (–ü—Ä–æ–∫–ª—è—Ç–∏–µ).
  - –í —Å–µ–∫—Ü–∏–∏ ‚Äú–ü—Ä–æ–∫–ª—è—Ç–∏–µ‚Äù –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
    - —Ç–µ–∫—É—â–∏–π –≤—ã–±–æ—Ä (–∏–∫–æ–Ω–∫–∞+–Ω–∞–∑–≤–∞–Ω–∏–µ/‚Äú–ù–µ—Ç‚Äù)
    - –∫–Ω–æ–ø–∫—É ‚Äú–í—ã–±—Ä–∞—Ç—å‚Äù (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `CursePicker`)
- –ü—Ä–∏ `START_GAME` –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∑–∞–±–µ–≥–∞: `deckConfig.curse` —É–∂–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è ‚Äî –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, –Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–∫–∞–∑ –±–∞–Ω–Ω–µ—Ä–∞ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ (—Å–º. –ø—É–Ω–∫—Ç E).
 - –î–æ–±–∞–≤–∏—Ç—å **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–∫—Ä–æ–ª–ª** –¥–ª—è –¥–µ–∫–±–∏–ª–¥–µ—Ä–∞ (—Ñ–∏–∫—Å. header/footer + scrollable content), —á—Ç–æ–±—ã –Ω–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏ –ø–æ–º–µ—â–∞–ª–∏—Å—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

–§–∞–π–ª—ã:
- `src/components/DeckbuilderScreen.tsx`
- `src/components/CursePicker.tsx` (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–ª–∏ —Ç–µ–∫—Å—Ç—ã/–ø–æ—è—Å–Ω–µ–Ω–∏—è)
- `memory-bank/uiDesign.md` (–ø–æ—Å–ª–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏)

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ (—Ä—É—á–Ω–æ–π —á–µ–∫–ª–∏—Å—Ç)
- **–ë–∞–∑–æ–≤–æ–µ**:
  - –ù–æ–≤–∞—è –∏–≥—Ä–∞ –±–µ–∑ –ø—Ä–æ–∫–ª—è—Ç–∏—è: —Å–ª–æ—Ç —Å ‚Äú+‚Äù –¥–æ—Å—Ç—É–ø–µ–Ω.
  - –ü–æ—Å–ª–µ –ª—é–±–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è: ‚Äú+‚Äù –∏—Å—á–µ–∑–∞–µ—Ç/—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è disabled (–µ—Å–ª–∏ –ø—Ä–æ–∫–ª—è—Ç–∏–µ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ) –∏ –≤—ã–±—Ä–∞—Ç—å —É–∂–µ –Ω–µ–ª—å–∑—è.
  - –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—Ä–æ–∫–ª—è—Ç–∏—è: –∏–∑–º–µ–Ω–∏—Ç—å —É–∂–µ –Ω–µ–ª—å–∑—è.
- **–¢—É–º–∞–Ω**:
  - –ö–∞–∂–¥—ã–π —Ä–∞—É–Ω–¥ —Å–∫—Ä—ã–≤–∞–µ—Ç 2 –∫–∞—Ä—Ç—ã.
  - –°–∫—Ä—ã—Ç—ã–µ –∫–∞—Ä—Ç—ã –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å/–∫–ª–∏–∫–Ω—É—Ç—å/–∞—Ç–∞–∫–æ–≤–∞—Ç—å/–ø—Ä–æ–¥–∞—Ç—å.
  - –ü—Ä–∏ —É–º–µ–Ω—å—à–µ–Ω–∏–∏ –∫–∞—Ä—Ç –Ω–∞ —Å—Ç–æ–ª–µ –¥–æ 2 ‚Äî –∫–∞—Ä—Ç—ã —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –∏ —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã.
- **–ü–æ–ª–Ω–æ–ª—É–Ω–∏–µ**:
  - –£–±–∏—Ç—å –º–æ–Ω—Å—Ç—Ä–∞ –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º ‚Üí –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–Ω—Å—Ç—Ä—ã –ª–µ—á–∞—Ç—Å—è –Ω–∞ +1, –Ω–æ –Ω–µ –≤—ã—à–µ maxHP.
- **–î–µ–∫–±–∏–ª–¥–µ—Ä**:
  - –í—ã–±–æ—Ä –ø—Ä–æ–∫–ª—è—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ.
  - –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å—Ç–∞—Ä—Ç —Å –ø—Ä–æ–∫–ª—è—Ç–∏–µ–º ‚Üí –ø—Ä–æ–∫–ª—è—Ç–∏–µ –∞–∫—Ç–∏–≤–Ω–æ, –ª–æ–≥ –µ—Å—Ç—å, –±–∞–Ω–Ω–µ—Ä –ø–æ–∫–∞–∑–∞–Ω.

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏:** –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, 2025-12-18 ‚Äî ‚Äú–≤—Ä–æ–¥–µ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç‚Äù.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- `memory-bank/gameMechanics.md`:
  - –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äú–ü—Ä–æ–∫–ª—è—Ç–∏–π‚Äù
  - –ø—Ä–∞–≤–∏–ª–æ ‚Äú–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è‚Äù
  - —ç—Ñ—Ñ–µ–∫—Ç—ã –¢—É–º–∞–Ω–∞/–ü–æ–ª–Ω–æ–ª—É–Ω–∏—è
- `memory-bank/gameContent.md`:
  - –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–∫–ª—è—Ç–∏–π (–∏–∫–æ–Ω–∫–∏, –æ–ø–∏—Å–∞–Ω–∏—è)
- `memory-bank/uiDesign.md`:
  - –æ–ø–∏—Å–∞–Ω–∏–µ —Å–ª–æ—Ç–∞ –ø—Ä–æ–∫–ª—è—Ç–∏—è —É –ø–æ–ª—è, –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ —Ç–æ–∫–µ–Ω–∞, –±–∞–Ω–Ω–µ—Ä-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, —Ä—É–±–∞—à–∫–∞ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ä—Ç

---

# Task: ¬´–ü—Ä–æ–∫–ª—è—Ç—å—è¬ª ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ (ü•¶ –û—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ, üõ†Ô∏è –ó–∞–∫–∞–ª–∫–∞, üí∞ –ñ–∞–¥–Ω–æ—Å—Ç—å)

## –°—Ç–∞—Ç—É—Å
- [x] Planning
- [x] Implementation
- [x] Verification
- [x] Documentation

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 3 (Intermediate)
–ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç **–±–∞–ª–∞–Ω—Å-–ª–æ–≥–∏–∫—É** –≤ `gameReducer.ts` + **–≤–∏–∑—É–∞–ª—å–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã** –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ —Ç–æ–∫–µ–Ω–∞—Ö (–∑–µ–ª—å—è/–æ—Ä—É–∂–∏–µ/–∫—Ä–∏—Å—Ç–∞–ª–ª—ã).

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (–∫–∞–∫ –ø–æ–Ω—è–ª —Å–µ–π—á–∞—Å)
- **ü•¶ –û—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ**: –≤—Å–µ –∑–µ–ª—å—è –ª–µ—á–∞—Ç –Ω–∞ 1 HP –º–µ–Ω—å—à–µ. –ù—É–∂–µ–Ω –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ‚Äú–±—ã–ª–æ/—Å—Ç–∞–ª–æ‚Äù –Ω–∞ —Ç–æ–∫–µ–Ω–µ –∑–µ–ª—å—è.
- **üõ†Ô∏è –ó–∞–∫–∞–ª–∫–∞**: –≤—Å–µ –æ—Ä—É–∂–∏—è –Ω–∞–Ω–æ—Å—è—Ç –Ω–∞ 1 —É—Ä–æ–Ω –±–æ–ª—å—à–µ. –ù—É–∂–µ–Ω –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ‚Äú–±—ã–ª–æ/—Å—Ç–∞–ª–æ‚Äù –Ω–∞ —Ç–æ–∫–µ–Ω–µ –æ—Ä—É–∂–∏—è.
- **üí∞ –ñ–∞–¥–Ω–æ—Å—Ç—å**: –≤—Å–µ –∫—Ä–∏—Å—Ç–∞–ª–ª—ã –¥–∞—é—Ç +2 üíé. –ù—É–∂–µ–Ω –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ‚Äú–±—ã–ª–æ/—Å—Ç–∞–ª–æ‚Äù –Ω–∞ —Ç–æ–∫–µ–Ω–µ –∫—Ä–∏—Å—Ç–∞–ª–ª–∞.

## –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Å—Ç–∞ –≤ –∫–æ–¥–µ (–≥–¥–µ –≤–Ω–µ–¥—Ä—è—Ç—å —ç—Ñ—Ñ–µ–∫—Ç)
- **–ó–µ–ª—å—è (–ª–µ—á–µ–Ω–∏–µ)**: `src/features/game/domain/reducer/gameReducer.ts` ‚Üí `TAKE_CARD_TO_HAND` ‚Üí –≤–µ—Ç–∫–∞ `card.type === 'potion'` (–≤ `src/utils/gameReducer.ts` –µ—Å—Ç—å bridge).
- **–û—Ä—É–∂–∏–µ (—É—Ä–æ–Ω)**: `src/features/game/domain/reducer/gameReducer.ts` ‚Üí `handleWeaponAttack()` (`damage = weapon.value`).
- **–ö—Ä–∏—Å—Ç–∞–ª–ª—ã (–ø–æ–ª—É—á–µ–Ω–∏–µ –º–æ–Ω–µ—Ç)**: `src/features/game/domain/reducer/gameReducer.ts` ‚Üí `TAKE_CARD_TO_HAND` ‚Üí –≤–µ—Ç–∫–∞ `card.type === 'coin'` (`player.coins += card.value`), –ø–ª—é—Å —Å–ø–µ—Ü‚Äë–∫–µ–π—Å **–ü–æ–¥–Ω–æ—à–µ–Ω–∏–µ**.
- **–í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä**: `src/components/CardComponent.tsx` —É–∂–µ —É–º–µ–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å ‚Äú–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ‚Äù —á–µ—Ä–µ–∑ –ø—Ä–æ–ø `penalty` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è ‚Äú–ì–Ω–∏–ª—å -2‚Äù –Ω–∞ –∑–µ–ª—å—è—Ö –≤ `GameScreen`).

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—á–µ—Ä–Ω–æ–≤–∏–∫)
### A) –î–∞–Ω–Ω—ã–µ/—Ç–∏–ø—ã
- –†–∞—Å—à–∏—Ä–∏—Ç—å `CurseType` –≤ `src/features/game/domain/model/types.ts` (–∞ `src/types/game.ts` –æ—Å—Ç–∞—ë—Ç—Å—è bridge):
  - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ id (–Ω–∞–ø—Ä–∏–º–µ—Ä: `poison`, `tempering`, `greed` ‚Äî —É—Ç–æ—á–Ω–∏–º –Ω–µ–π–º–∏–Ω–≥).
- –†–∞—Å—à–∏—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–æ–∫–ª—è—Ç–∏–π –≤ `src/content/curses/baseCurses.ts` (–∞ `src/data/curses.ts` ‚Äî deprecated bridge).

### B) –õ–æ–≥–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ (gameReducer)
- **–û—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ**:
  - —É–º–µ–Ω—å—à–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –ª–µ—á–µ–Ω–∏—è –∑–µ–ª—å—è –Ω–∞ 1 (–Ω–æ –Ω–µ –Ω–∏–∂–µ 0), –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–∞–∫ —Å–µ–π—á–∞—Å —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è ‚Äú–ì–Ω–∏–ª–∏‚Äù.
  - –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, —á—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ ‚Äú–û–¢–†–ê–í–õ–ï–ù–ò–ï: -1‚Äù.
- **–ó–∞–∫–∞–ª–∫–∞**:
  - –¥–æ–±–∞–≤–∏—Ç—å +1 –∫ —É—Ä–æ–Ω—É –æ—Ä—É–∂–∏—è –≤ `handleWeaponAttack`.
  - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã: `miss` (-2) –∏ –ø—Ä–æ—á–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—Ç–∞–∫–∏–≤–∞—Ç—å—Å—è.
  - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `updateMirrorMonsters` (—Ç–∞–º —Å—á–∏—Ç–∞–µ—Ç—Å—è max —É—Ä–æ–Ω –æ—Ä—É–∂–∏—è) ‚Äî –Ω—É–∂–Ω–æ –ª–∏ —É—á–∏—Ç—ã–≤–∞—Ç—å +1 –æ—Ç –ó–∞–∫–∞–ª–∫–∏.
- **–ñ–∞–¥–Ω–æ—Å—Ç—å**:
  - –¥–æ–±–∞–≤–∏—Ç—å +2 –∫ –ø–æ–ª—É—á–∞–µ–º—ã–º üíé –ø—Ä–∏ –ø–æ–¥–Ω—è—Ç–∏–∏ –∫—Ä–∏—Å—Ç–∞–ª–ª–∞.
  - —É—Ç–æ—á–Ω–∏—Ç—å, –≤–ª–∏—è–µ—Ç –ª–∏ +2 –Ω–∞ ‚Äú–ü–æ–¥–Ω–æ—à–µ–Ω–∏–µ‚Äù (–∫–æ–≥–¥–∞ –º–æ–Ω–µ—Ç—ã –ª–µ—á–∞—Ç –º–æ–Ω—Å—Ç—Ä–æ–≤) ‚Äî —Å–º. –≤–æ–ø—Ä–æ—Å—ã.

### C) –í–∏–∑—É–∞–ª ‚Äú–±—ã–ª–æ/—Å—Ç–∞–ª–æ‚Äù –Ω–∞ —Ç–æ–∫–µ–Ω–∞—Ö
- –í `src/components/game/screens/GameScreen.tsx` –≤—ã—á–∏—Å–ª—è—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è `CardComponent`/`Slot`:
  - –¥–ª—è `potion`: -1 –ø—Ä–∏ –û—Ç—Ä–∞–≤–ª–µ–Ω–∏–∏ (–ø–ª—é—Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ì–Ω–∏–ª—å -2) ‚Üí –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—É–º–º–æ–π.
  - –¥–ª—è `weapon`: +1 –ø—Ä–∏ –ó–∞–∫–∞–ª–∫–µ.
  - –¥–ª—è `coin`: +2 –ø—Ä–∏ –ñ–∞–¥–Ω–æ—Å—Ç–∏.
- –í `src/components/CardComponent.tsx` (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ):
  - —É–ª—É—á—à–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞: –¥–ª—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å `+N` –∏ –∑–µ–ª—ë–Ω—ã–π —Å—Ç–∏–ª—å (—Å–µ–π—á–∞—Å –ª—é–±–æ–π non-zero –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º –∫–∞–∫ –¥–µ–±–∞—Ñ—Ñ).
  - –æ—Å—Ç–∞–≤–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ‚Äú–ì–Ω–∏–ª—å -2‚Äù.

### D) –ü—Ä–æ–≤–µ—Ä–∫–∞
- –ó–µ–ª—å—è: –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –±–µ–π–¥–∂–µ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ª–µ—á–µ–Ω–∏–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç (—Å —É—á—ë—Ç–æ–º clamp/overheal).
- –û—Ä—É–∂–∏–µ: –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –±–µ–π–¥–∂–µ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω —Å–æ–≤–ø–∞–¥–∞—é—Ç, —Å—Ç–∞–∫–∞–µ—Ç—Å—è —Å `miss`.
- –ö—Ä–∏—Å—Ç–∞–ª–ª—ã: –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –±–µ–π–¥–∂–µ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ üíé —Å–æ–≤–ø–∞–¥–∞—é—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–µ–π—Å ‚Äú–ü–æ–¥–Ω–æ—à–µ–Ω–∏–µ‚Äù.

## –£—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã (–Ω—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø–µ—Ä–µ–¥ –∫–æ–¥–æ–º)
1) **–ñ–∞–¥–Ω–æ—Å—Ç—å –∏ ‚Äú–ü–æ–¥–Ω–æ—à–µ–Ω–∏–µ‚Äù**: –µ—Å–ª–∏ –Ω–∞ —Å—Ç–æ–ª–µ –µ—Å—Ç—å –º–æ–Ω—Å—Ç—Ä—ã —Å –∞–±–∏–ª–∫–æ–π `offering`, –º–æ–Ω–µ—Ç—ã –∏–¥—É—Ç –≤ –ª–µ—á–µ–Ω–∏–µ –º–æ–Ω—Å—Ç—Ä–æ–≤. –í —ç—Ç–æ–º –∫–µ–π—Å–µ **+2 –¥–æ–ª–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è** (—Ç.–µ. –º–æ–Ω–µ—Ç–∞ ‚Äú—Å–∏–ª—å–Ω–µ–µ –ª–µ—á–∏—Ç‚Äù), –∏–ª–∏ –ñ–∞–¥–Ω–æ—Å—Ç—å –≤–ª–∏—è–µ—Ç **—Ç–æ–ª—å–∫–æ –Ω–∞ üíé –∏–≥—Ä–æ–∫–∞**?
2) **–ó–∞–∫–∞–ª–∫–∞ –∏ ‚Äú–ó–µ—Ä–∫–∞–ª–æ‚Äù** (`mirror`): —ç—Ç–æ—Ç –º–æ–Ω—Å—Ç—Ä –±–µ—Ä—ë—Ç —Å–∏–ª—É —Ä–∞–≤–Ω—É—é –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É —É—Ä–æ–Ω—É –æ—Ä—É–∂–∏—è. –ü—Ä–∏ –ó–∞–∫–∞–ª–∫–µ –æ–Ω –¥–æ–ª–∂–µ–Ω –±—Ä–∞—Ç—å **(value+1)** –∏–ª–∏ **—Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–π value**?
3) **–û—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ—á–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ª–µ—á–µ–Ω–∏—è**: –û—Ç—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–µ—Ç **—Ç–æ–ª—å–∫–æ –∑–µ–ª—å—è** (–∫–∞—Ä—Ç—ã `type === 'potion'`) –∏–ª–∏ –µ—â—ë –∏ –ª–µ—á–µ–Ω–∏–µ –æ—Ç –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π (`leech`) / –∞–±–∏–ª–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä `blessing`)?
4) **–ü–æ—Ä—è–¥–æ–∫ —Å—Ç–∞–∫–∏–Ω–≥–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤**:
   - –¥–ª—è –∑–µ–ª—å—è —Å–µ–π—á–∞—Å –µ—Å—Ç—å ‚Äú–ì–Ω–∏–ª—å -2‚Äù. –ü—Ä–∏ –û—Ç—Ä–∞–≤–ª–µ–Ω–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç **-3 —Å—É–º–º–∞—Ä–Ω–æ**? (—è –±—ã —Å–¥–µ–ª–∞–ª –∏–º–µ–Ω–Ω–æ —Ç–∞–∫)
   - –¥–ª—è –æ—Ä—É–∂–∏—è: —Å–Ω–∞—á–∞–ª–∞ `miss` (-2), –ø–æ—Ç–æ–º –ó–∞–∫–∞–ª–∫–∞ (+1) –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç? (–ø–æ —Ñ–∞–∫—Ç—É —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å—É–º–º–∞, –Ω–æ –≤–∞–∂–Ω–æ –¥–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è/–ª–æ–≥–æ–≤)
5) **–ö–∞–∫ –∏–º–µ–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º ‚Äú–±—ã–ª–æ/—Å—Ç–∞–ª–æ‚Äù –≤–∏–∑—É–∞–ª—å–Ω–æ?**
   - –≤–∞—Ä–∏–∞–Ω—Ç A: –æ—Å–Ω–æ–≤–Ω–æ–π –±–µ–π–¥–∂ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–∏—Ç–æ–≥**, —Ä—è–¥–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π –±–µ–π–¥–∂ `(+1/-1/+2)`.
   - –≤–∞—Ä–∏–∞–Ω—Ç B: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å **–æ–±–∞ —á–∏—Å–ª–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä ‚Äú3 ‚Üí 4‚Äù) –ø—Ä—è–º–æ –Ω–∞ —Ç–æ–∫–µ–Ω–µ.
   –°–µ–π—á–∞—Å –≤ `CardComponent` —É–∂–µ –µ—Å—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç A –¥–ª—è –¥–µ–±–∞—Ñ—Ñ–æ–≤ ‚Äî –ø–æ–¥—Ç—é–Ω–∏–º –ø–æ–¥ –±–∞—Ñ—Ñ—ã.

---

# Task: ¬´–ü—Ä–æ–∫–ª—è—Ç—å–µ ‚Äî –¢—å–º–∞ üåë¬ª (front-only, –∫–∞–∫ Lumos)

## –°—Ç–∞—Ç—É—Å
- [x] Planning
- [x] Implementation
- [x] Verification
- [x] Documentation

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 2 (Simple Enhancement)
UI‚Äë—Ñ–∏—á–∞: –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å–ª–æ–π (–æ–≤–µ—Ä–ª–µ–π) + –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–∫–ª—è—Ç–∏—è –≤ —Å–ø–∏—Å–æ–∫ –≤—ã–±–æ—Ä–∞. –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–æ–µ–≤–æ–π –ª–æ–≥–∏–∫–∏/—Ä–µ–¥—å—é—Å–µ—Ä–∞, –∫—Ä–æ–º–µ ‚Äú–∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–æ–∫–ª—è—Ç–∏–µ‚Äù –≤ UI.

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
–ï—Å–ª–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–æ–∫–ª—è—Ç–∏–µ **¬´–¢—å–º–∞¬ª**, —ç–∫—Ä–∞–Ω ‚Äú–ø–æ–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤–æ —Ç—å–º—É‚Äù, –∞ –≤–æ–∫—Ä—É–≥ **–∫—É—Ä—Å–æ—Ä–∞ –º—ã—à–∏** –µ—Å—Ç—å –∫—Ä—É–≥ —Å–≤–µ—Ç–∞ (–∫–∞–∫ —Ç–µ–∫—É—â–∞—è –ø–∞—Å—Ö–∞–ª–∫–∞ **Lumos**).

## –ß—Ç–æ —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)
- `src/components/FlashlightOverlay.tsx`: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω ‚Äú—Ç–µ–º–Ω—ã–π —Å–ª–æ–π + –∫—Ä—É–≥ —Å–≤–µ—Ç–∞‚Äù —á–µ—Ä–µ–∑ `maskImage/WebkitMaskImage` –∏ —Ç—Ä–µ–∫–∏–Ω–≥ –º—ã—à–∏.
- `src/app/plugins/OverlaysPlugin.tsx`: –ø–æ–¥–∫–ª—é—á–∞–µ—Ç `FlashlightOverlay` –≥–ª–æ–±–∞–ª—å–Ω–æ (–ø–ª–∞–≥–∏–Ω).

## –£—Ç–æ—á–Ω–µ–Ω–∏—è (–Ω—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π)
1) **–ì–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äú–¢—å–º–∞‚Äù**: **–≤ –∏–≥—Ä–µ (`GameScreen`) –∏ –≤ –¥–µ–∫–±–∏–ª–¥–µ—Ä–µ**.
2) **–ò—Å—Ç–æ—á–Ω–∏–∫ —Å–≤–µ—Ç–∞**: **–≤–æ–∫—Ä—É–≥ –º—ã—à–∫–∏**.
3) **–†–∞–¥–∏—É—Å/–º—è–≥–∫–æ—Å—Ç—å**: **–∫–∞–∫ —É Lumos** (—Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `FlashlightOverlay`).
4) **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø–∞—Å—Ö–∞–ª–∫–æ–π Lumos/Nox**: –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π ‚Äú–¢—å–º–µ‚Äù –ø–∞—Å—Ö–∞–ª–∫–∞ **–æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è/–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è**.
5) **UI‚Äë—Å–ª–æ–∏ (z-index)**: –æ–≤–µ—Ä–ª–µ–π **–Ω–∏–∂–µ –º–æ–¥–∞–ª–æ–∫** –∏ **–Ω–µ –º–µ—à–∞–µ—Ç Info/HUD**, `pointer-events-none`.

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### A) –ö–æ–Ω—Ç–µ–Ω—Ç/—Ç–∏–ø –ø—Ä–æ–∫–ª—è—Ç–∏—è
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π `CurseType` id: `darkness` (–∏–ª–∏ `dark` ‚Äî –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω–æ –∏–º—è –∏ –≤–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å).
- –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ `src/content/curses/baseCurses.ts` (–∞ `src/data/curses.ts` ‚Äî deprecated bridge):
  - name: `–¢—å–º–∞`
  - icon: `üåë` (–∏–ª–∏ –¥—Ä—É–≥–æ–π ‚Äî —É—Ç–æ—á–Ω–∏–º)
  - description: ‚Äú–í—Å—ë —Ç–µ–º–Ω–µ–µ—Ç, –≤–æ–∫—Ä—É–≥ –∫—É—Ä—Å–æ—Ä–∞ ‚Äî –∫—Ä—É–≥ —Å–≤–µ—Ç–∞.‚Äù
  - color: `text-stone-200`/`text-indigo-200` (–≤–∏–∑—É–∞–ª—å–Ω–æ –æ–±—Å—É–¥–∏–º)

–§–∞–π–ª—ã:
- `src/features/game/domain/model/types.ts` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –ø–æ ids; `src/types/game.ts` ‚Äî bridge)
- `src/content/curses/baseCurses.ts` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –ø–æ –¥–∞–Ω–Ω—ã–º; `src/data/curses.ts` ‚Äî deprecated bridge)

### B) –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–≤–µ—Ä–ª–µ—è (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Lumos)
–ï—Å—Ç—å 2 —Ä–∞–±–æ—á–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞ ‚Äî –≤—ã–±–µ—Ä—É —Å–∞–º—ã–π —á–∏—Å—Ç—ã–π –ø–æ UX/–ø–æ–¥–¥–µ—Ä–∂–∫–µ:

**–í–∞—Ä–∏–∞–Ω—Ç 1 (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π): –≤—ã–¥–µ–ª–∏—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
- –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä `src/components/MaskedFlashlightOverlay.tsx`:
  - –ø—Ä–æ–ø `enabled: boolean`
  - –ø—Ä–æ–ø—ã –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: `radiusPx`, `softEdgePercent`, `zIndexClass`
  - –≤–Ω—É—Ç—Ä–∏: —Ç—Ä–µ–∫ –º—ã—à–∏ + `maskImage` –∫–∞–∫ –≤ `FlashlightOverlay`
- `FlashlightOverlay` –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∫–∞–∫ —Ç–æ–Ω–∫—É—é –æ–±–µ—Ä—Ç–∫—É –Ω–∞–¥ `MaskedFlashlightOverlay` (enabled –æ—Ç –ø–∞—Å—Ö–∞–ª–∫–∏).
- –í `GameScreen` –ø—Ä–∏ `state.curse === 'darkness'` —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å `MaskedFlashlightOverlay enabled` **–≤–Ω—É—Ç—Ä–∏ GameScreen**, —Å `z` –Ω–∏–∂–µ –º–æ–¥–∞–ª–æ–∫/–∏–Ω—Ñ–æ‚ÄëHUD.
- –í `DeckbuilderScreen` –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø—Ä–æ–∫–ª—è—Ç–∏—è `darkness` –≤ –∫–æ–Ω—Ñ–∏–≥–µ ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–∞–∫–æ–π –∂–µ –æ–≤–µ—Ä–ª–µ–π (—Ç–æ—Ç –∂–µ z‚Äë–ø–æ—Ä—è–¥–æ–∫).
- –î–æ–±–∞–≤–∏—Ç—å ‚Äú–ª–æ–∫‚Äù –¥–ª—è –ø–∞—Å—Ö–∞–ª–∫–∏: –ø–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –¢—å–º–∞, `FlashlightOverlay` –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –æ—Ç `lumos/svet` –∏ –Ω–µ –≤—ã–∫–ª—é—á–∞–µ—Ç—Å—è –æ—Ç `nox` (–∏–≥–Ω–æ—Ä).

**–í–∞—Ä–∏–∞–Ω—Ç 2 (–±—ã—Å—Ç—Ä—ã–π, –Ω–æ –º–µ–Ω–µ–µ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π):**
- –ù–µ —Ç—Ä–æ–≥–∞—Ç—å `FlashlightOverlay`, –∞ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π –ø–æ—á—Ç–∏ —Ç–∞–∫–æ–π –∂–µ –æ–≤–µ—Ä–ª–µ–π –≤ `GameScreen`.
- –ú–∏–Ω—É—Å: –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏/—Å—Ç–∏–ª–µ–π.

–§–∞–π–ª—ã:
- `src/components/FlashlightOverlay.tsx` (—Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä)
- `src/components/game/screens/GameScreen.tsx` (–∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã; `src/components/GameScreen.tsx` ‚Äî proxy/bridge)
- (–≤–æ–∑–º–æ–∂–Ω–æ –Ω–æ–≤—ã–π) `src/components/MaskedFlashlightOverlay.tsx`

### C) –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Å–ª–æ–∏
- –û–≤–µ—Ä–ª–µ–π –¢—å–º—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `pointer-events-none`.
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –º–æ–¥–∞–ª–∫–∏ (`CursePicker`, `RulesModal`, `GameStatsOverlay`) –æ—Å—Ç–∞—é—Ç—Å—è **–≤—ã—à–µ** –æ–≤–µ—Ä–ª–µ—è.
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ **Info/HUD** –æ—Å—Ç–∞—ë—Ç—Å—è —á–∏—Ç–∞–µ–º—ã–º/–≤–∏–¥–∏–º—ã–º (–æ–≤–µ—Ä–ª–µ–π –Ω–µ –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏ HUD-–ø–∞–Ω–µ–ª–∏).
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ ‚Äú–¢—å–º–∞‚Äù –Ω–µ –ª–æ–º–∞–µ—Ç drag&drop (–æ–Ω–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è).

### D) –ü—Ä–æ–≤–µ—Ä–∫–∞ (—Ä—É—á–Ω–æ–π —á–µ–∫–ª–∏—Å—Ç)
- –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–∫–ª—è—Ç–∏–µ **–¢—å–º–∞** ‚Üí —ç–∫—Ä–∞–Ω —Ç–µ–º–Ω–µ–µ—Ç, ‚Äú–¥—ã—Ä–∫–∞‚Äù —Å–ª–µ–¥—É–µ—Ç –∑–∞ –∫—É—Ä—Å–æ—Ä–æ–º.
- –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç/–∫–ª–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ (–æ–≤–µ—Ä–ª–µ–π –Ω–µ –º–µ—à–∞–µ—Ç).
- –ú–æ–¥–∞–ª–∫–∏ –ø–æ–≤–µ—Ä—Ö (CursePicker/Rules/—Å—Ç–∞—Ç—ã) —á–∏—Ç–∞–µ–º—ã –∏ –Ω–µ –∑–∞—Ç–µ–º–Ω—è—é—Ç—Å—è.
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ/–Ω–æ–≤—É—é –∏–≥—Ä—É –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É–±–∏—Ä–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- `memory-bank/gameMechanics.md`: –¥–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–∫–ª—è—Ç–∏—è ‚Äú–¢—å–º–∞‚Äù (–∫–∞–∫ –≤–∏–∑—É–∞–ª—å–Ω—ã–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä).
- `memory-bank/gameContent.md`: –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ–∫–ª—è—Ç–∏–π.
- `memory-bank/uiDesign.md`: –∫–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—Å–∞—Ç—å —Å–ª–æ–π ‚Äú–¢—å–º–∞‚Äù –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ z-index/UX.


---

# Task: –ë–æ–ª—å—à–æ–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Clean Architecture / V2 foundation)

## –°—Ç–∞—Ç—É—Å
- [x] Planning
- [ ] Implementation
- [ ] Verification
- [ ] Documentation

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 4 (Advanced / Architectural)
–≠—Ç–æ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç **–≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫, –≥—Ä–∞–Ω–∏—Ü—ã —Å–ª–æ—ë–≤, –¥–æ–º–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É (`gameReducer/gameLogic`), UI —ç–∫—Ä–∞–Ω—ã, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (Supabase/LocalStorage), –∞ —Ç–∞–∫–∂–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

## –ì–ª–∞–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
- `memory-bank/refactor/plan-v1.md` ‚Äî **–ø–ª–∞–Ω ‚Äú—Å–æ–∑–¥–∞–Ω–∏—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –ø–ª–∞–Ω–æ–≤‚Äù** + —Ü–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ + –±–ª–æ–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏.
- `memory-bank/refactor/roadmap-v1.md` ‚Äî –ø–æ—Ä—è–¥–æ–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –±–ª–æ–∫–æ–≤ (–¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞).

## –¶–µ–ª–∏ (–∫—Ä–∞—Ç–∫–æ)
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏ —É–ª—É—á—à–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø–æ–¥ –ø—Ä–∏–Ω—Ü–∏–ø—ã **Clean Architecture**.
- –†–∞–∑–¥–µ–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ –ª–æ–≥–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã/—Å–ª–æ–∏: **domain / application / UI / infrastructure / content**.
- –î–µ–ª–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ **—á–∞—Å—Ç—è–º–∏**, –Ω–µ –ª–æ–º–∞—è –ø—Ä–æ–µ–∫—Ç (–±–ª–æ–∫–∞–º–∏ —Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏).
- –í–µ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É –∏ —É–ª—É—á—à–∞—Ç—å –µ—ë –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–ü–æ–Ω—è—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ** (—á—Ç–æ —ç—Ç–æ –∑–∞ —Å–ª–æ–π/–º–æ–¥—É–ª—å, –∑–∞—á–µ–º —Ç–∞–∫ —Å–¥–µ–ª–∞–Ω–æ, –∫–ª—é—á–µ–≤—ã–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã).
- –ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Context7 MCP** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è **—Å–≤–µ–∂–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** –ø–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥.

## –ü–ª–∞–Ω –Ω–∞ –±–ª–∏–∂–∞–π—à—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é (V1.1)
1) –£—Ç–≤–µ—Ä–¥–∏—Ç—å ‚Äú—Å–∫–µ–ª–µ—Ç‚Äù —Ü–µ–ª–µ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ø–∞–ø–∫–∏ `app/`, `features/`, `shared/`, `infrastructure/`, `content/`).
2) –ú–∏–Ω–∏‚Äë–ø–ª–∞–Ω –¥–ª—è **–ë–ª–æ–∫–∞ 0** (–ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª–∏: –ø—Ä–∞–≤–∏–ª–∞ –∏–º–ø–æ—Ä—Ç–æ–≤/–∞–ª–∏–∞—Å—ã/–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã): `memory-bank/refactor/blocks/block-00-guardrails.md`.
3) –ú–∏–Ω–∏‚Äë–ø–ª–∞–Ω –¥–ª—è **–ë–ª–æ–∫–∞ 1** (–≤—ã–¥–µ–ª–µ–Ω–∏–µ domain kernel –∏–≥—Ä—ã): `memory-bank/refactor/blocks/block-01-game-domain-kernel.md` ‚Üí –∑–∞—Ç–µ–º –Ω–∞—á–∞—Ç—å –ø–µ—Ä–µ–Ω–æ—Å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è.
4) –ú–∏–Ω–∏‚Äë–ø–ª–∞–Ω –¥–ª—è **–ë–ª–æ–∫–∞ 2** (application —Å–ª–æ–π + GameSession –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏): `memory-bank/refactor/blocks/block-02-game-application-layer.md`.
5) –ü–æ–¥‚Äë–ø–ª–∞–Ω: **–≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (Variant A: `inGameView`)**: `memory-bank/refactor/blocks/block-02a-in-game-navigation.md`.
6) –ú–∏–Ω–∏‚Äë–ø–ª–∞–Ω –¥–ª—è **–ë–ª–æ–∫–∞ 3** (–¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è `GameScreen`): `memory-bank/refactor/blocks/block-03-game-ui-decomposition.md`.
7) –ú–∏–Ω–∏‚Äë–ø–ª–∞–Ω –¥–ª—è **–ë–ª–æ–∫–∞ 4** (Content Layer + `GameContent` packs): `memory-bank/refactor/blocks/block-04-content-layer.md`.
8) –ú–∏–Ω–∏‚Äë–ø–ª–∞–Ω –¥–ª—è **–ë–ª–æ–∫–∞ 5** (Infrastructure adapters: Supabase/LocalStorage): `memory-bank/refactor/blocks/block-05-infrastructure-adapters.md`.
9) –ú–∏–Ω–∏‚Äë–ø–ª–∞–Ω –¥–ª—è **–ë–ª–æ–∫–∞ 6** (Composition Root `App` + –ø–ª–∞–≥–∏–Ω—ã): `memory-bank/refactor/blocks/block-06-composition-root-and-plugins.md`.
10) –ü–æ—Å—Ç‚Äë–±–ª–æ–∫: **—Ä–µ–≤–∏–∑–∏—è –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Memory Bank**: `memory-bank/refactor/blocks/block-90-memory-bank-docs-refresh.md`.
11) –ú–∏–Ω–∏‚Äë–ø–ª–∞–Ω –¥–ª—è **–ë–ª–æ–∫–∞ 8** (RNG/Clock –ø–æ—Ä—Ç—ã –ø–æ–¥ –±—É–¥—É—â–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/—Ä–µ–ø–ª–µ–∏): `memory-bank/refactor/blocks/block-08-rng-clock-ports.md`.

## –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ (—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Å—Ç–∞—Ä—Ç–µ)
- –†–µ‚Äë—ç–∫—Å–ø–æ—Ä—Ç—ã –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –ë–ª–æ–∫–µ 1 ‚Äî **—Ä–∞–∑—Ä–µ—à–µ–Ω—ã** (UI —Ç—Ä–æ–≥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ).
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø–æ RNG/Clock ‚Äî **–ø–æ–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã–µ**; –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –¥–µ—Ñ–æ–ª—Ç—ã –∏ —É—Ç–æ—á–Ω—è–µ–º –≤ –Ω–∞—á–∞–ª–µ –ë–ª–æ–∫–∞ 0/1.

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ (DoD –¥–ª—è —Ñ–∞–∑—ã Planning)
- –ï—Å—Ç—å –µ–¥–∏–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å —Ü–µ–ª–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –±–ª–æ–∫–∞–º–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ (`memory-bank/refactor/plan-v1.md`).
- –ü–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ —Ç—Ä–æ–≥–∞–µ–º –≤ –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –∏ –∫–∞–∫ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º—Å—è.
- –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω: ‚Äú–º–∏–Ω–∏‚Äë–ø–ª–∞–Ω –ë–ª–æ–∫–∞ 0‚Äù –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç.

---

## –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- 2025-12-19 ‚Äî –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–µ –ø—É—Ç–∏ –ø–æ–¥ Clean Architecture (domain reducer/types, –Ω–æ–≤—ã–π –ø—É—Ç—å `GameScreen`) –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è ‚Äú–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ‚Äù (–ë–ª–æ–∫ 90).



---

# Task: Versioning ‚Äî `0.1.N` + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∫–æ–º–º–∏—Ç–æ–≤ (generate-version.js)

## –°—Ç–∞—Ç—É—Å
- [x] Planning
- [x] Implementation
- [x] Verification
- [x] Documentation
- [x] Reflection

## –°–ª–æ–∂–Ω–æ—Å—Ç—å: Level 2 (Simple Enhancement / Tooling)
–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞—Å–∞–µ—Ç—Å—è dev/build‚Äë–ø–∞–π–ø–ª–∞–π–Ω–∞ (—Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–¥ `vite`/`build`), –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –∏–≥—Ä–æ–≤—É—é –º–µ—Ö–∞–Ω–∏–∫—É.

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ
- –í–µ—Ä—Å–∏—è —Ç–µ–ø–µ—Ä—å —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ **`0.1.N`**, –≥–¥–µ **`N` —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å 0** –æ—Ç `baseRef` (`git rev-list --count <baseRef>..HEAD`).
- –í `src/data/version_history.json` –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–º–∏—Ç–æ–≤ **–Ω–µ –∑–∞—Ç–∏—Ä–∞–µ—Ç—Å—è**: –Ω–æ–≤—ã–π `git log` –º–µ—Ä–∂–∏—Ç—Å—è —Å–æ —Å—Ç–∞—Ä–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π (–¥–µ–¥—É–ø –ø–æ `hash`).
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö Git fallback **–Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `version_history.json` (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –∏—Å—Ç–æ—Ä–∏–∏).

## Reflection
- `memory-bank/reflection/reflection-versioning-0-1.md`

