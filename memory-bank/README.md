# Memory Bank — документация проекта Skazmor Playtest

## Зачем это нужно
`memory-bank/` — это “внешняя память” проекта: короткие документы, которые помогают быстро восстановить контекст после паузы/нового чата/передачи задачи.

**Правило:** документация должна отражать **реальные границы слоёв** и **фактические файлы в коде**, а не “как было раньше”.

---

## Что читать сначала (если ты новый / вернулся после паузы)
1) `memory-bank/activeContext.md` — текущий фокус и что делать дальше.
2) `memory-bank/progress.md` — что уже сделано (история).
3) `memory-bank/systemPatterns.md` — архитектурные правила и границы.
4) `memory-bank/techContext.md` — как собрать/запустить проект.
5) По задаче:
   - механики: `memory-bank/gameMechanics.md`
   - контент: `memory-bank/gameContent.md`
   - UI/UX: `memory-bank/uiDesign.md`

---

## Карта документов (кто за что отвечает)

### Контекст и процесс
- `activeContext.md` — коротко: текущий фокус, “следующий блок”, ссылки.
- `progress.md` — журнал изменений по датам.
- `tasks.md` — задачи/спеки (если используем как backlog).
- `refactor/*` — планы и roadmap рефакторинга (Clean Architecture).

### Опорные документы
- `projectbrief.md` — что это за проект и зачем он существует.
- `productContext.md` — пользователи и продуктовые цели/UX.
- `techContext.md` — стек, запуск/сборка/деплой, структура папок/алиасы.
- `systemPatterns.md` — правила архитектуры и договорённости (слои, ports/adapters, плагины).

### Игра (правила/контент/UI)
- `gameMechanics.md` — правила, инварианты, термины, “что считается действием”.
- `gameContent.md` — каталог контента и ссылки на `src/content/*` как источник правды.
- `uiDesign.md` — дизайн-система и UX-паттерны (HUD, модалки, оверлеи, анимации).
- `gameTokensDesign.md` — **DEPRECATED** (исторически был отдельным), теперь спецификация токенов/слотов живёт в `uiDesign.md` (Приложение A).
- `infoHUD.md` — отдельная спецификация Info-режима (что входит и как хранится состояние).

### Подсистемы
- `wallet.md` — кошелёк (UI + sync + репозитории).
- `devQuest.md` — мета-слой devquest/аномалии (как плагин/модуль).

---

## Матрица “код ↔ документация” (когда что обновлять)
- **Изменили правила игры / редьюсер / инварианты** → `gameMechanics.md`
- **Добавили/изменили контент** (`src/content/*`) → `gameContent.md`
- **Поменяли UI-паттерны / дизайн-систему / слои HUD/оверлеев** → `uiDesign.md`
- **Поменяли Info HUD** → `infoHUD.md`
- **Поменяли wallet/auth/notes I/O или порты/use-cases** → соответствующий doc (`wallet.md`, и/или новые docs по мере появления)
- **Любой существенный шаг рефакторинга/архитектуры** → `activeContext.md` + `progress.md`

---

## Шаблон документа
Используй: `memory-bank/_templates/doc-template.md`

---

## Последнее обновление
- 2025-12-19 — Добавлен индекс Memory Bank и зафиксирован обязательный формат docs (Блок 90).


