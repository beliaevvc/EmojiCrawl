# Текущий Контекст (Active Context)

## Текущий Фокус
Плейтестинг и доработка игровых механик Skazmor. Пользователь сосредоточен на документации и установлении строгих правил для ее синхронизации с кодом.

## Последние изменения (кратко)
- Добавлена механика **Проклятий** (перманентные модификаторы забега): выбор до первого действия, подтверждение, UI-токен у сброса, баннер активации, Туман/Полнолуние, секция в декбилдере + скролл.
- Проклятья проверены пользователем (2025-12-18): “вроде всё работает”.

## Правила Поддержки Документации (Documentation Maintenance Rules)
**КРИТИЧЕСКОЕ ПРАВИЛО:** Любые изменения в коде должны сопровождаться обновлением соответствующей документации в `memory-bank/`.

| Компонент / Система  | Файлы кода                                                           | Файл документации              |
| -------------------  | ----------                                                           | -----------------              |
| **Кошелек**          | `src/components/WalletComponent.tsx`, `src/stores/useWalletStore.ts` | **`memory-bank/wallet.md`**    |
| **HUD / Интерфейс**  | `src/components/GameScreen.tsx`, `GameStatsOverlay.tsx`              | `memory-bank/infoHUD.md`       |
| **Игровая Механика** | `gameReducer.ts`, `game.ts`                                          | `memory-bank/gameMechanics.md` |
| **Контент**          | `data/`                                                              | `memory-bank/gameContent.md`   |
| **UI Дизайн**        | `*.css`, Tailwind классы                                             | `memory-bank/uiDesign.md`      |

*При обновлении или рефакторинге компонента "Кошелек" (Wallet), ОБЯЗАТЕЛЬНО обновлять файл `memory-bank/wallet.md`, отражая изменения в дизайне, логике или назначении.*

## Недавние Изменения
- **Создан `memory-bank/wallet.md`**: Описание компонента кошелька, его дизайна и технической реализации.
- Обновлен дизайн кошелька (карточный стиль, постоянная иконка удаления).
- Создан `memory-bank/infoHUD.md`, описывающий устройство интерфейса, визуальный стиль и техническую реализацию HUD.
- Создан `memory-bank/uiDesign.md`, описывающий систему визуального дизайна.
- Обновлены `memory-bank/systemPatterns.md` и `.cursorrules`.

## Активные Документы
- `memory-bank/wallet.md`: Документация по системе экономики и UI кошелька.
- `memory-bank/infoHUD.md`: Документация по игровому интерфейсу (HUD) и оверлеям.
- `memory-bank/uiDesign.md`: Справочник по визуальному дизайну и UX.
- `memory-bank/gameMechanics.md`: Правила основной логики игры.
- `memory-bank/gameContent.md`: Списки контента (монстры, предметы).
- `memory-bank/systemPatterns.md`: Архитектурные правила и правила документации.
- `.cursorrules`: Правила поведения ИИ для поддержки документации.

## Следующие Шаги
- Реализовать `futureConcepts.md` (Бэклог идей), если потребуется.
- Проверить реализацию механик и дизайна в коде.
