# Traveling Merchant (–°—Ç—Ä–∞–Ω—Å—Ç–≤—É—é—â–∏–π —Ç–æ—Ä–≥–æ–≤–µ—Ü) ‚Äî –¢–ó / –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å **–ø–æ–¥—Ä–æ–±–Ω–æ–µ –¢–ó** –Ω–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏ ‚Äú–°—Ç—Ä–∞–Ω—Å—Ç–≤—É—é—â–∏–π —Ç–æ—Ä–≥–æ–≤–µ—Ü‚Äù –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π: –∫–æ–≥–¥–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç UX, –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ–∫—É–ø–æ–∫/—É—Ö–æ–¥–∞, –∫–∞–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–æ–¥–∞—ë—Ç, –∏ –∫–∞–∫ —ç—Ç–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª (—Ä–∞—É–Ω–¥—ã/–¥–æ–±–æ—Ä).

–î–æ–∫—É–º–µ–Ω—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–¥–µ–ª–∞–Ω –∫–∞–∫ ‚Äú–∫–æ–Ω—Ç—Ä–∞–∫—Ç‚Äù –º–µ–∂–¥—É –∑–∞–¥—É–º–∫–æ–π –∏ –∫–æ–¥–æ–º: –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ **¬´–û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã¬ª** –æ–Ω —Å—Ç–∞–Ω–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

## –ò—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã (Source of Truth)
- –ö–æ–¥ (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏):
  - `src/features/game/domain/reducer/gameReducer.ts` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—Ü–∞, —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äú–º–∞–≥–∞–∑–∏–Ω–∞‚Äù, –ø–æ–∫—É–ø–∫–∞/—É—Ö–æ–¥, –≤–ª–∏—è–Ω–∏–µ –Ω–∞ `round/deal`.
  - `src/features/game/domain/model/types.ts` ‚Äî –Ω–æ–≤—ã–µ –ø–æ–ª—è `GameState`/–Ω–æ–≤—ã–µ `GameAction`/–Ω–æ–≤—ã–µ —Ç–∏–ø—ã –∫–∞—Ä—Ç (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è).
  - `src/features/game/application/gameSession.ts` ‚Äî –∫–æ–º–∞–Ω–¥—ã –¥–ª—è UI (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ use-case‚Äô—ã: `openMerchant`, `buyMerchantItem`, `leaveMerchant`).
  - UI:
    - `src/components/game/screens/*` –∏/–∏–ª–∏ `src/features/game/ui/*` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ –∏ drag&drop.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
  - **–º–µ—Ö–∞–Ω–∏–∫–∞** ‚Üí `memory-bank/gameMechanics.md`
  - **–∫–æ–Ω—Ç–µ–Ω—Ç (–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã)** ‚Üí `memory-bank/gameContent.md` (–µ—Å–ª–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –æ—Ñ–æ—Ä–º–∏–º –∫–∞–∫ –∫–æ–Ω—Ç–µ–Ω—Ç-–æ–±—ä–µ–∫—Ç—ã)

## –ì–¥–µ –≤ –∫–æ–¥–µ (Entry points)
- –ê–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥ —Ä–∞—É–Ω–¥–∞ (–∏–¥–µ–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è ‚Äú–≤–∫–ª–∏–Ω–∏–≤–∞–Ω–∏—è‚Äù —Ç–æ—Ä–≥–æ–≤—Ü–∞ –º–µ–∂–¥—É —Ä–∞—É–Ω–¥–∞–º–∏):
  - `src/features/game/domain/reducer/gameReducer.ts` ‚Üí –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è `stateWithRoundCheck(...)` (–ª–æ–≥–∏–∫–∞: –µ—Å–ª–∏ –Ω–∞ —Å—Ç–æ–ª–µ ‚â§ 1 –∫–∞—Ä—Ç–∞, –¥–æ–±–∏—Ä–∞–µ–º –ø—É—Å—Ç—ã–µ —Å–ª–æ—Ç—ã, `round++`).
- DnD –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–∫—É–¥–∞ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É ‚Äú–∫—É–ø–∏—Ç—å/—É–π—Ç–∏/–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å‚Äù):
  - `src/components/game/board/useCombatDnDActions.ts` (drop –Ω–∞ —Ä—É–∫–∏/–º–æ–Ω—Å—Ç—Ä–æ–≤/–≥–µ—Ä–æ—è)
  - `src/components/game/board/GameBoard.tsx` + `PlayerAvatar.tsx` (drop-zone ‚Äú–Ω–∞ –≥–µ—Ä–æ—è‚Äù)

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

### 0) –ü—Ä–∏–Ω—è—Ç–æ –ø–æ –æ—Ç–≤–µ—Ç–∞–º (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ)
–ù–∏–∂–µ ‚Äî —Ä–µ—à–µ–Ω–∏—è, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (2025-12-19). –í—Å—ë, —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–µ—è—Å–Ω—ã–º, –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ —Ä–∞–∑–¥–µ–ª **8) –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã**.

- **–¢–∞–π–º–∏–Ω–≥**:
  - –¢–æ—Ä–≥–æ–≤–µ—Ü –ø–æ—è–≤–ª—è–µ—Ç—Å—è **—Å—Ç—Ä–æ–≥–æ –º–µ–∂–¥—É —Ä–∞—É–Ω–¥–∞–º–∏** ‚Äî –≤ –º–æ–º–µ–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ —Ä–∞—É–Ω–¥–∞/–¥–æ–±–æ—Ä–∞ (–∫–æ–≥–¥–∞ –Ω–∞ —Å—Ç–æ–ª–µ –æ—Å—Ç–∞–ª–æ—Å—å ‚â§ 1 –∫–∞—Ä—Ç—ã).
  - –¢–æ—Ä–≥–æ–≤–µ—Ü –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **–ø–æ—Å–ª–µ `round++`**, —Ç–æ –µ—Å—Ç—å ‚Äú–≤ –Ω–∞—á–∞–ª–µ —Ä–∞—É–Ω–¥–∞ N‚Äù.
  - –ù–∞ **–ø–µ—Ä–≤–æ–º —Ä–∞—É–Ω–¥–µ** —Ç–æ—Ä–≥–æ–≤–µ—Ü **–Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è**.
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å / –≤—ã–±–æ—Ä —Ä–∞—É–Ω–¥–∞**:
  - –í –Ω–∞—á–∞–ª–µ –∑–∞–±–µ–≥–∞ –±—Ä–æ—Å–∞–µ–º —à–∞–Ω—Å: **40% —á—Ç–æ —Ç–æ—Ä–≥–æ–≤–µ—Ü –±—É–¥–µ—Ç**, **60% —á—Ç–æ –Ω–µ—Ç**.
  - –ï—Å–ª–∏ —Ç–æ—Ä–≥–æ–≤–µ—Ü ‚Äú–±—É–¥–µ—Ç‚Äù, –∑–∞—Ä–∞–Ω–µ–µ –≤—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —Ä–∞—É–Ω–¥ –ø–æ—è–≤–ª–µ–Ω–∏—è (–≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ, –≥–¥–µ –æ–Ω –≤–æ–∑–º–æ–∂–µ–Ω).
- **–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —Å—Ç–æ–ª–µ**:
  - –°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –Ω–∞ —Å—Ç–æ–ª–µ –æ—Å—Ç–∞–ª–∞—Å—å **—Ä–æ–≤–Ω–æ 1 –∫–∞—Ä—Ç–∞** (—ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –º–æ–Ω–µ—Ç–∞, –∞ –ª—é–±–∞—è –∫–∞—Ä—Ç–∞).
  - –ï—Å–ª–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ —Ä–∞—É–Ω–¥–∞ –Ω–∞ —Å—Ç–æ–ª–µ **0 –∫–∞—Ä—Ç** ‚Äî —Ç–æ—Ä–≥–æ–≤–µ—Ü **–Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è**.
  - –≠—Ç–∞ ‚Äú–ø–æ—Å–ª–µ–¥–Ω—è—è –∫–∞—Ä—Ç–∞‚Äù **–æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —Å—Ç–æ–ª–µ**, –Ω–æ **–≤–∏–∑—É–∞–ª—å–Ω–æ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è/–±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è** —Ç–æ–∫–µ–Ω–æ–º **üö™ ‚Äú–£–π—Ç–∏‚Äù**.
  –¢–æ–∫–µ–Ω **–Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π**: –∫–∞—Ä—Ç–∞ –ø–æ–¥ –Ω–∏–º –Ω–µ –¥–æ–ª–∂–Ω–∞ ‚Äú–ø—Ä–æ—Å–≤–µ—á–∏–≤–∞—Ç—å‚Äù.
  - –¢—Ä–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–∞ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è **–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏ —Ç–æ—Ä–≥–æ–≤—Ü–∞**.
  - –ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏/—É—Ö–æ–¥–∞: –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã + ‚Äú–£–π—Ç–∏‚Äù —É–±–∏—Ä–∞—é—Ç—Å—è, –ø–æ—Å–ª–µ–¥–Ω—è—è –∫–∞—Ä—Ç–∞ —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–Ω–∞, –∑–∞—Ç–µ–º –∏–¥—ë—Ç **–æ–±—ã—á–Ω—ã–π –¥–æ–±–æ—Ä 3 –∫–∞—Ä—Ç –∏–∑ –¥–µ–∫–∏**.
- **–ß–∞—Å—Ç–æ—Ç–∞**:
  - –ú–∞–∫—Å–∏–º—É–º **0 –∏–ª–∏ 1** –ø–æ—è–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—Ü–∞ –∑–∞ –∑–∞–±–µ–≥.
- **–≠–∫–æ–Ω–æ–º–∏–∫–∞**:
  - –¶–µ–Ω–∞ –∫–∞–∂–¥–æ–≥–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞: **15 üíé**.
  - –í–∞–ª—é—Ç–∞: —Ç–æ–ª—å–∫–æ **–∑–∞–±–µ–≥–æ–≤—ã–µ üíé** (`state.player.coins`).
  - –í UI –Ω—É–∂–µ–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä ‚Äú–Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç üíé‚Äù (–ø–æ–¥—Å–≤–µ—Ç–∫–∞/–∑–∞–º–æ–∫/tooltip).
- **–ü–æ–∫—É–ø–∫–∞/—É—Ö–æ–¥ (DnD UX)**:
  - –ö—É–ø–ª–µ–Ω–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å **–≤ –ª—é–±–æ–π —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–ª–æ—Ç** (–ª–µ–≤–∞—è/–ø—Ä–∞–≤–∞—è —Ä—É–∫–∞/—Ä—é–∫–∑–∞–∫).
  - –ï—Å–ª–∏ —Å–≤–æ–±–æ–¥–µ–Ω —Ç–æ–ª—å–∫–æ —Ä—é–∫–∑–∞–∫, –Ω–æ –æ–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω `web` ‚Äî **–ø–æ–∫—É–ø–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞**, —Ç–æ–ª—å–∫–æ ‚Äú—É–π—Ç–∏‚Äù.
  - –ï—Å–ª–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–Ω—è—Ç: –≤–æ –≤—Ä–µ–º—è —Ç–æ—Ä–≥–æ–≤—Ü–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ **–ø—Ä–æ–¥–∞—Ç—å —Ä–æ–≤–Ω–æ 1 –ø—Ä–µ–¥–º–µ—Ç –∏–∑ —Ä—é–∫–∑–∞–∫–∞**, —á—Ç–æ–±—ã –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ/–¥–æ–±—Ä–∞—Ç—å üíé.
  - ‚Äúüö™ –£–π—Ç–∏‚Äù ‚Äî —ç—Ç–æ **–∫–Ω–æ–ø–∫–∞-–º–æ–Ω–µ—Ç–∞**, –∫–æ—Ç–æ—Ä–∞—è **–Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–µ–¥–º–µ—Ç–æ–º** –∏ –∏—Å—á–µ–∑–∞–µ—Ç —Å—Ä–∞–∑—É –ø—Ä–∏ drop.
  - ‚Äú–£–π—Ç–∏‚Äù –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å **–≤ —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–ª–æ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –∏–ª–∏ –Ω–∞ –≥–µ—Ä–æ—è**.
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤–æ –≤—Ä–µ–º—è —Ç–æ—Ä–≥–æ–≤—Ü–∞**:
  - –ù–µ–ª—å–∑—è: —Å–±—Ä–æ—Å (-5HP), –∫–∞—Å—Ç —Å–ø–µ–ª–ª–æ–≤, –ª—é–±—ã–µ –±–æ–µ–≤—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.
  - –ú–æ–∂–Ω–æ: –ø–∞—É–∑–∞.
  - –ú–æ–∂–Ω–æ: –ø—Ä–æ–¥–∞–∂–∞ **—Ç–æ–ª—å–∫–æ –∏–∑ —Ä—é–∫–∑–∞–∫–∞**.
  - –ü—Ä–æ–∫–ª—è—Ç–∏–µ ‚Äú–¢—É–º–∞–Ω‚Äù –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ–≤–∞—Ä—ã/‚Äú—É–π—Ç–∏‚Äù.
- **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (–∏–∫–æ–Ω–∫–∏)**:
  - ü¶Å –ó–µ–ª—å–µ –•—Ä–∞–±—Ä–æ—Å—Ç–∏
  - üó°Ô∏è –ö–ª–µ–π–º–æ—Ä
  - üìú –ú–æ–ª–∏—Ç–≤–∞

### 1) –ö–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏—á–∏ (–∫–∞–∫ –∑–∞–¥—É–º–∞–Ω–æ)
- –°—Ç—Ä–∞–Ω—Å—Ç–≤—É—é—â–∏–π —Ç–æ—Ä–≥–æ–≤–µ—Ü ‚Äî —ç—Ç–æ **–º–µ–∂–¥—É—Ä–∞—É–Ω–¥–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ**.
- –ö–æ–≥–¥–∞ –Ω–∞ —Å—Ç–æ–ª–µ –æ—Å—Ç–∞–ª–∞—Å—å **—Ä–æ–≤–Ω–æ 1 –∫–∞—Ä—Ç–∞**, –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞—É–Ω–¥ (`round++`), —Ç–æ—Ä–≥–æ–≤–µ—Ü:
  - **–ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç** —ç—Ç—É –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–∞—Ä—Ç—É —Ç–æ–∫–µ–Ω–æ–º **üö™ ‚Äú–£–π—Ç–∏‚Äù** (—Å–∞–º–∞ –∫–∞—Ä—Ç–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ–¥ –Ω–∏–º),
  - –∑–∞–ø–æ–ª–Ω—è–µ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ 3 —Å–ª–æ—Ç–∞ **—Ç–æ–≤–∞—Ä–∞–º–∏**,
  - –±–ª–æ–∫–∏—Ä—É–µ—Ç –±–æ–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –∏ –∫–∞—Å—Ç—ã, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ ‚Äú–∫—É–ø–∏—Ç—å/—É–π—Ç–∏‚Äù –∏ –ø—Ä–æ–¥–∞–∂—É –∏–∑ —Ä—é–∫–∑–∞–∫–∞.
- –ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ —É—Ö–æ–¥–∞ —Ç–æ—Ä–≥–æ–≤–µ—Ü –∏—Å—á–µ–∑–∞–µ—Ç, ‚Äú–ø–æ—Å–ª–µ–¥–Ω—è—è –∫–∞—Ä—Ç–∞‚Äù —Å–Ω–æ–≤–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ–π, –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—ã—á–Ω—ã–π –¥–æ–±–æ—Ä –Ω–∞ —Å—Ç–æ–ª.

### 2) –ü–æ—è–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—Ü–∞ (—Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è)
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** 40% ‚Äú–Ω–∞ –∑–∞–±–µ–≥‚Äù (–ø—Ä–∏–º–µ—Ä–Ω–æ –∫–∞–∂–¥—ã–π 2‚Äì3 –∑–∞–±–µ–≥).

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–∞—É–Ω–¥—É:** —Ä–∞—É–Ω–¥ –ø–æ—è–≤–ª–µ–Ω–∏—è –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å ‚Äú–∫–∞–∫ –Ω–∞ –≤—Ç–æ—Ä–æ–º‚Äù, —Ç–∞–∫ –∏ ‚Äú–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º/–ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–º‚Äù.

**–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ:**
- –¢–æ—Ä–≥–æ–≤–µ—Ü –ø–æ—è–≤–ª—è–µ—Ç—Å—è **–º–µ–∂–¥—É —Ä–∞—É–Ω–¥–∞–º–∏** –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **–ø–æ—Å–ª–µ `round++`** (–≤ –Ω–∞—á–∞–ª–µ —Ä–∞—É–Ω–¥–∞ N).
- –ù–∞ –ø–µ—Ä–≤–æ–º —Ä–∞—É–Ω–¥–µ —Ç–æ—Ä–≥–æ–≤–µ—Ü **–Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è**.
- –¢–æ—Ä–≥–æ–≤–µ—Ü –º–æ–∂–µ—Ç –≤—ã–ø–∞—Å—Ç—å –Ω–∞ **2-–º** –∏–ª–∏ –Ω–∞ **–ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–º** —Ä–∞—É–Ω–¥–µ.
- **–£—Ç–æ—á–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ñ–∏–∫—Å):** –≤—ã–±—Ä–∞–Ω–Ω—ã–π `scheduledRound` ‚Äî —ç—Ç–æ **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π** —Ä–∞—É–Ω–¥, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç–æ—Ä–≥–æ–≤–µ—Ü –º–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è.
  –¢–æ—Ä–≥–æ–≤–µ—Ü –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ **–ø–µ—Ä–≤–æ–º –ø–æ–¥—Ö–æ–¥—è—â–µ–º –ø–µ—Ä–µ—Ö–æ–¥–µ —Ä–∞—É–Ω–¥–∞** (–∫–æ–≥–¥–∞ –Ω–∞ —Å—Ç–æ–ª–µ —Ä–æ–≤–Ω–æ 1 –∫–∞—Ä—Ç–∞) **–Ω–∞ –∏–ª–∏ –ø–æ—Å–ª–µ** `scheduledRound`.
  –≠—Ç–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Ç–æ—Ä–≥–æ–≤–µ—Ü –Ω–µ ‚Äú–ø—Ä–æ–ø–∞–¥–∞–ª –Ω–∞–≤—Å–µ–≥–¥–∞‚Äù, –µ—Å–ª–∏ –≤ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç–æ–ª–µ –±—ã–ª–æ 0 –∫–∞—Ä—Ç (–∞ –ø—Ä–∏ 0 –æ–Ω –ø–æ –¢–ó –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è).

### 3) –≠–∫–æ–Ω–æ–º–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
- –¶–µ–Ω–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞: **15 üíé**.
- –°—á–∏—Ç–∞—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ üíé, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –≤ —Ç–µ–∫—É—â–µ–º –∑–∞–±–µ–≥–µ** (–≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö —Ç–µ–∫—É—â–µ–≥–æ –¥–æ–º–µ–Ω–∞ —ç—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ `state.player.coins`, –∞ –Ω–µ ‚Äú–∫–æ—à–µ–ª—ë–∫‚Äù –≤–Ω–µ –∑–∞–±–µ–≥–∞).
- –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ:
  - —É–º–µ–Ω—å—à–∞–µ–º ‚Äú–∑–∞–±–µ–≥–æ–≤—É—é –≤–∞–ª—é—Ç—É‚Äù –Ω–∞ 15.
  - —Ç–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å (–≤ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç).
- –ï—Å–ª–∏ –¥–µ–Ω–µ–≥ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:
  - –ø–æ–∫—É–ø–∫–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–∞ (—Ç–æ–≤–∞—Ä –Ω–µ–ª—å–∑—è –ø–æ–ª–æ–∂–∏—Ç—å –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å),
  - —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Ç–æ–ª—å–∫–æ ‚Äú—É–π—Ç–∏‚Äù.

### 4) UX/–≥–µ–π–º–ø–ª–µ–π: ‚Äú–º–∞–≥–∞–∑–∏–Ω –Ω–∞ —Å—Ç–æ–ª–µ‚Äù
–ù—É–∂–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ UX –º—ã –¥–µ–ª–∞–µ–º, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –Ω–µ —Ä–∞—Å—Ö–æ–¥–∏—Ç—å—Å—è –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏.

**–ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:**
- –ü–æ—è–≤–ª—è–µ—Ç—Å—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –∏–∑ 4 —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ —Å—Ç–æ–ª–µ: 3 —Ç–æ–≤–∞—Ä–∞ + ‚Äúüö™ –£–π—Ç–∏‚Äù.
- –ò–≥—Ä–æ–∫ drag&drop‚Äô–æ–º:
  - –∫–ª–∞–¥—ë—Ç —Ç–æ–≤–∞—Ä –≤ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è ‚Üí –ø–æ–∫—É–ø–∫–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –º–∞–≥–∞–∑–∏–Ω –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è;
  - –∏–ª–∏ –∫–ª–∞–¥—ë—Ç ‚Äú–£–π—Ç–∏‚Äù –≤ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è / –Ω–∞ –≥–µ—Ä–æ—è ‚Üí –º–∞–≥–∞–∑–∏–Ω –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ–∫—É–ø–∫–∏.

**–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ (DnD-–ø—Ä–∞–≤–∏–ª–∞):**
- –ö—É–ø–∏—Ç—å –º–æ–∂–Ω–æ, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–ª–æ—Ç (–ª–µ–≤/–ø—Ä–∞–≤/—Ä—é–∫–∑–∞–∫) –∏ –æ–Ω –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.
- –ï—Å–ª–∏ —Å–≤–æ–±–æ–¥–µ–Ω —Ç–æ–ª—å–∫–æ —Ä—é–∫–∑–∞–∫, –Ω–æ –∞–∫—Ç–∏–≤–µ–Ω `web` ‚Äî –ø–æ–∫—É–ø–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ (–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ ‚Äú—É–π—Ç–∏‚Äù).
- –í–æ –≤—Ä–µ–º—è —Ç–æ—Ä–≥–æ–≤—Ü–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã **—Ç–æ–ª—å–∫–æ –∏–∑ —Ä—é–∫–∑–∞–∫–∞**.

### 5) –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã (—Ç–æ–≤–∞—Ä—ã —Ç–æ—Ä–≥–æ–≤—Ü–∞)

#### 5.1 –ó–µ–ª—å–µ –•—Ä–∞–±—Ä–æ—Å—Ç–∏
- –ò–∫–æ–Ω–∫–∞: **ü¶Å**
- –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ **–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞ –≥–µ—Ä–æ–µ**: –Ω–∞–Ω–æ—Å–∏—Ç –≥–µ—Ä–æ—é **4 —É—Ä–æ–Ω–∞**, –∑–∞—Ç–µ–º —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `maxHp` –≥–µ—Ä–æ—è –Ω–∞ **+2**.
- –ü–æ–∫—É–ø–∫–∞ (–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å) **–Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç** –∑–µ–ª—å–µ.
- –û—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ã—á–Ω—ã—Ö –∑–µ–ª–∏–π: –æ–±—ã—á–Ω—ã–µ `potion` —Å–µ–π—á–∞—Å **–∞–≤—Ç–æ-–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è** –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤–∑—è—Ç—å –∏—Ö –≤ —Ä—É–∫—É; –¥–ª—è ‚Äú–•—Ä–∞–±—Ä–æ—Å—Ç–∏‚Äù –Ω—É–∂–Ω–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ ‚Äú–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ drop –Ω–∞ –≥–µ—Ä–æ—è‚Äù.
- –ú–æ–∂–µ—Ç —É–±–∏—Ç—å –≥–µ—Ä–æ—è (–µ—Å–ª–∏ HP ‚â§ 4).
- –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —É—Ö–æ–¥–∏—Ç –≤ `discardPile` (–∫–∞–∫ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ).
- –ú–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å, –Ω–æ **—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏ = 0 üíé** (—Ç–æ –µ—Å—Ç—å –ø–æ —Å—É—Ç–∏ ‚Äú–≤—ã–∫–∏–Ω—É—Ç—å‚Äù).
- –°–∞–º–æ-—É—Ä–æ–Ω (-4 HP) –≤ **God Mode –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è**.

#### 5.2 –ö–ª–µ–π–º–æ—Ä
- –ò–∫–æ–Ω–∫–∞: **üó°Ô∏è**
- –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–Ω: **6**.
- –ú–µ—Ö–∞–Ω–∏–∫–∞ ‚Äú–ø—Ä–æ—á–Ω–æ—Å—Ç–∏ –∫–∞–∫ —É —â–∏—Ç–æ–≤‚Äù:
  - –ø—Ä–∏ —É–¥–∞—Ä–µ –ø–æ –º–æ–Ω—Å—Ç—Ä—É —Ç—Ä–∞—Ç–∏—Ç—Å—è –ø—Ä–æ—á–Ω–æ—Å—Ç—å, —Ä–∞–≤–Ω–∞—è HP –º–æ–Ω—Å—Ç—Ä–∞ (–∏–ª–∏ –Ω–∞–Ω–µ—Å—ë–Ω–Ω–æ–º—É —É—Ä–æ–Ω—É),
  - –æ—Å—Ç–∞—Ç–æ–∫ –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ –æ—Å—Ç–∞—ë—Ç—Å—è (–ø—Ä–∏–º–µ—Ä: –º–æ–Ω—Å—Ç—Ä 4 HP ‚Üí –æ—Å—Ç–∞—ë—Ç—Å—è 2 –ø—Ä–æ—á–Ω–æ—Å—Ç–∏).
- –ü–æ —Å–º—ã—Å–ª—É: ‚Äú—â–∏—Ç, –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–Ω–æ –±–∏—Ç—å‚Äù, –∏–ª–∏ ‚Äú–æ—Ä—É–∂–∏–µ —Å –ø—Ä–æ—á–Ω–æ—Å—Ç—å—é‚Äù.
- –ê—Ç–∞–∫—É–µ—Ç –∫–∞–∫ –æ—Ä—É–∂–∏–µ (drag –Ω–∞ –º–æ–Ω—Å—Ç—Ä–∞).
- –ü–æ—Å–ª–µ —É–¥–∞—Ä–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –≤ —Ä—É–∫–µ —Å —É–º–µ–Ω—å—à–µ–Ω–Ω—ã–º `value` (–ø—Ä–æ—á–Ω–æ—Å—Ç—å). –ü—Ä–∏ 0 –ª–æ–º–∞–µ—Ç—Å—è –∏ —É—Ö–æ–¥–∏—Ç –≤ `discardPile`.
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —â–∏—Ç.
- –ù–∞ –Ω–µ–≥–æ –≤–ª–∏—è—é—Ç: `tempering` (+1), `miss` (-2), `anvil` (+2).
- `Mirror` –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å **—Ç–µ–∫—É—â—É—é –ø—Ä–æ—á–Ω–æ—Å—Ç—å**.
- –ü—Ä–æ—á–Ω–æ—Å—Ç—å —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ **HP –º–æ–Ω—Å—Ç—Ä–∞ –¥–æ —É–¥–∞—Ä–∞** (–∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ), –∞ –Ω–µ –Ω–∞ ‚Äú—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–Ω –ø–æ—Å–ª–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤‚Äù.

#### 5.3 –ó–∞–∫–ª–∏–Ω–∞–Ω–∏–µ ¬´–ú–æ–ª–∏—Ç–≤–∞¬ª
- –ò–∫–æ–Ω–∫–∞: **üìú**
- –≠—Ñ—Ñ–µ–∫—Ç: –¥—É–±–ª–∏—Ä—É–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ **–≤ —Ä—É–∫–µ** –≤ **—Ä—é–∫–∑–∞–∫**.
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è: –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å ‚Äú–ú–æ–ª–∏—Ç–≤—É‚Äù –Ω–∞ spell-–∫–∞—Ä—Ç—É –≤ —Ä—É–∫–µ (—Ç–∞—Ä–≥–µ—Ç).
- –ï—Å–ª–∏ —Ä—é–∫–∑–∞–∫ –∑–∞–Ω—è—Ç –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω `web` ‚Äî —ç—Ñ—Ñ–µ–∫—Ç –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.
- –ü—Ä–æ–¥–∞—Ç—å –Ω–µ–ª—å–∑—è.
- –ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å `spellType` (–∏–∫–æ–Ω–∫–∏/–æ–ø–∏—Å–∞–Ω–∏—è –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è –∏–∑ `GameContent` –∫–∞–∫ –æ–±—ã—á–Ω–æ).

### 6.1 –ü—Ä–∏–Ω—è—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ)
**–í—ã–±—Ä–∞–Ω –≤–∞—Ä–∏–∞–Ω—Ç B (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π): –¢–æ—Ä–≥–æ–≤–µ—Ü –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º/overlay (`merchantState`) –ø–æ–≤–µ—Ä—Ö —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–æ–ª–∞.**

–ü–æ—á–µ–º—É:
- –ù–∞–º –∫—Ä–∏—Ç–∏—á–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–¥–µ—é ‚Äú–ø–æ—Å–ª–µ–¥–Ω—è—è –∫–∞—Ä—Ç–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ–¥ üö™‚Äù –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∏ `enemySlots`.
- –í–æ –≤—Ä–µ–º—è —Ç–æ—Ä–≥–æ–≤—Ü–∞ –Ω—É–∂–Ω–æ –∂—ë—Å—Ç–∫–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π (–±–æ–π/–∫–∞—Å—Ç—ã/—Å–±—Ä–æ—Å) –∏ –æ—Å—Ç–∞–≤–∏—Ç—å —É–∑–∫–∏–π –Ω–∞–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π ‚Äî —ç—Ç–æ –ø—Ä–æ—â–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ —Å–¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º ‚Äú—Ä–µ–∂–∏–º–æ–º‚Äù.

### 6) –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–æ–±—Å—É–∂–¥–∞–µ–º, –≤—ã–±–µ—Ä–µ–º –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–æ–≤)

#### –í–∞—Ä–∏–∞–Ω—Ç A ‚Äî –¢–æ—Ä–≥–æ–≤–µ—Ü –∫–∞–∫ ‚Äú—Å–æ–±—ã—Ç–∏–µ —Å—Ç–æ–ª–∞‚Äù –≤ –¥–æ–º–µ–Ω–µ (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º `enemySlots`)
- –ü—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏—è ‚Äú–ø–µ—Ä–µ—Ö–æ–¥ —Ä–∞—É–Ω–¥–∞‚Äù (`cardsOnTable <= 1`):
  - —Å–æ—Ö—Ä–∞–Ω—è–µ–º ‚Äú–ø–æ—Å–ª–µ–¥–Ω—é—é –∫–∞—Ä—Ç—É‚Äù –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ,
  - –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–µ–º `enemySlots` –Ω–∞ `[item1, item2, item3, leave]`,
  - –±–ª–æ–∫–∏—Ä—É–µ–º –ª—é–±—ã–µ –±–æ–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –∫—Ä–æ–º–µ ‚Äúbuy/leave‚Äù,
  - –ø–æ—Å–ª–µ buy/leave –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –∫–∞—Ä—Ç—É + –¥–µ–ª–∞–µ–º –æ–±—ã—á–Ω—ã–π –¥–æ–±–æ—Ä.
- –ü–ª—é—Å—ã: –≤–∏–∑—É–∞–ª—å–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ‚Äú–Ω–∞ —Å—Ç–æ–ª–µ‚Äù, –º–∏–Ω–∏–º—É–º –Ω–æ–≤–æ–≥–æ UI.
- –ú–∏–Ω—É—Å—ã: –Ω—É–∂–Ω–æ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ ‚Äú–æ—Ç–∫–ª—é—á–∏—Ç—å‚Äù –∫—É—á—É —Ç–µ–∫—É—â–∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π (–º–æ–Ω—Å—Ç—Ä—ã/—Å–ø–µ–ª–ª—ã/–ø—Ä–æ–¥–∞–∂–∞/—Å–±—Ä–æ—Å/—Ç—É–º–∞–Ω).

#### –í–∞—Ä–∏–∞–Ω—Ç B ‚Äî –¢–æ—Ä–≥–æ–≤–µ—Ü –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π ‚Äú—Ä–µ–∂–∏–º‚Äù (merchant overlay) –ø–æ–≤–µ—Ä—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –•—Ä–∞–Ω–∏–º `merchantState` –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç `enemySlots` (–Ω–∞–ø—Ä–∏–º–µ—Ä: `merchant: { status, items, preservedTableCard? }`).
- UI –≤ –º–æ–º–µ–Ω—Ç —Ç–æ—Ä–≥–æ–≤—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é —Ä–∞—Å–∫–ª–∞–¥–∫—É —Ç–æ–≤–∞—Ä–æ–≤, –∞ –±–æ–µ–≤–æ–µ –ø–æ–ª–µ –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–∫—Ä—ã—Ç–æ/–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ.
- –ü–ª—é—Å—ã: –º–µ–Ω—å—à–µ —Ä–∏—Å–∫–∞ –ø–æ–ª–æ–º–∞—Ç—å –±–æ–µ–≤—É—é –º–µ—Ö–∞–Ω–∏–∫—É; –ø—Ä–æ—â–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è.
- –ú–∏–Ω—É—Å—ã: —á—É—Ç—å –±–æ–ª—å—à–µ –Ω–æ–≤–æ–π UI-–∫–æ–º–ø–æ–Ω–æ–≤–∫–∏ (–Ω–æ –ª–æ–∂–∏—Ç—Å—è –Ω–∞ —Ç–µ–∫—É—â–∏–π `GameFlow/inGameView`).

#### –í–∞—Ä–∏–∞–Ω—Ç C ‚Äî –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∫–∞–∫ ‚Äú–Ω–æ–≤—ã–π –≤–∏–¥ –º–æ–Ω–µ—Ç/–∫–∞—Ä—Ç‚Äù –∏ –º–∞–≥–∞–∑–∏–Ω –∫–∞–∫ ‚Äú–≥–µ–Ω–µ—Ä–∞—Ü–∏—è 4 –∫–∞—Ä—Ç‚Äù
- –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ `CardType`/–ø–æ–ª—è –∏ —Ä–µ–∞–ª–∏–∑—É–µ–º –≤—Å—ë –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∏.
- –ü–ª—é—Å—ã: –º–µ–Ω—å—à–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö-case‚Äô–æ–≤ –≤ UI (–≤—Å—ë —Ç–æ–∫–µ–Ω—ã).
- –ú–∏–Ω—É—Å—ã: —Å–∞–º–∞—è –±–æ–ª—å—à–∞—è –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏–ø–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª (–æ—Å–æ–±–µ–Ω–Ω–æ –∏–∑-–∑–∞ ‚Äú–∑–µ–ª—å—è –Ω–µ –∫–∞–∫ –∑–µ–ª—å–µ‚Äù –∏ ‚Äú–æ—Ä—É–∂–∏—è-—â–∏—Ç–∞‚Äù).

### 7) –õ–æ–≥–∏/—Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è/—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø—Ä–µ–¥–ª–∞–≥–∞–µ–º)
- –õ–æ–≥ –ø–æ—è–≤–ª–µ–Ω–∏—è: `–¢–û–†–ì–û–í–ï–¶: –ø—Ä–∏–±—ã–ª (—Ä–∞—É–Ω–¥ N).`
- –õ–æ–≥ –ø–æ–∫—É–ø–∫–∏: `–¢–û–†–ì–û–í–ï–¶: –∫—É–ø–ª–µ–Ω–æ <itemName> –∑–∞ 15üíé.`
- –õ–æ–≥ —É—Ö–æ–¥–∞: `–¢–û–†–ì–û–í–ï–¶: —Ç—ã —É—Ö–æ–¥–∏—à—å.`
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `merchantSeen`, `merchantBought`, `merchantSkipped`.

### 8) –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–æ—Å—Ç–∞–ª–∏—Å—å –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–æ–≤)
–¢–ó –ø–æ –º–µ—Ö–∞–Ω–∏–∫–µ —Ç–æ—Ä–≥–æ–≤—Ü–∞ —É—Ç–æ—á–Ω–µ–Ω–æ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–æ. –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

## –ü—Ä–∞–≤–∏–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –û–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç, –µ—Å–ª–∏ –º–µ–Ω—è—é—Ç—Å—è:
  - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å/—Ç–∞–π–º–∏–Ω–≥/–ø—Ä–∞–≤–∏–ª–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—Ü–∞,
  - —ç–∫–æ–Ω–æ–º–∏–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞,
  - —Å–æ—Å—Ç–∞–≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –∏–ª–∏ –∏—Ö –º–µ—Ö–∞–Ω–∏–∫–∞,
  - UX –ø–æ–∫—É–ø–∫–∏/—É—Ö–æ–¥–∞ (–∫—É–¥–∞ –±—Ä–æ—Å–∞—Ç—å, —á—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è).
- –ù–µ –æ–±–Ω–æ–≤–ª—è—Ç—å, –µ—Å–ª–∏ –º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ UI-—Å—Ç–∏–ª–∏ —Ç–æ–∫–µ–Ω–æ–≤/–∞–Ω–∏–º–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ `memory-bank/uiDesign.md`.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `memory-bank/gameMechanics.md`
- `memory-bank/gameContent.md`
- `memory-bank/uiDesign.md`
- `memory-bank/activeContext.md`

## –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- 2025-12-19 ‚Äî –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–∞–π–º–∏–Ω–≥/UX/–∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã/–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è), —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å–æ–∫—Ä–∞—â—ë–Ω –¥–æ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –Ω–µ—è—Å–Ω–æ—Å—Ç–µ–π.


